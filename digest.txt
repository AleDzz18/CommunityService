Directory structure:
└── aledzz18-communityservice/
    ├── README.md
    ├── manage.py
    ├── requirements.txt
    ├── App_Home/
    │   ├── __init__.py
    │   ├── admin.py
    │   ├── apps.py
    │   ├── forms.py
    │   ├── models.py
    │   ├── tests.py
    │   ├── urls.py
    │   ├── views.py
    │   ├── static/
    │   │   ├── css/
    │   │   │   ├── styles-HD.css
    │   │   │   ├── styles-lidergeneral.css
    │   │   │   ├── styles-listado.css
    │   │   │   ├── styles-login.css
    │   │   │   ├── styles-navbar.css
    │   │   │   ├── styles-perfil.css
    │   │   │   └── material-theme/
    │   │   │       ├── dark-hc.css
    │   │   │       ├── dark-mc.css
    │   │   │       ├── dark.css
    │   │   │       ├── light-hc.css
    │   │   │       ├── light-mc.css
    │   │   │       └── light.css
    │   │   └── js/
    │   │       ├── scripts-HD.js
    │   │       └── scripts-login.js
    │   └── templates/
    │       ├── completar_perfil.html
    │       ├── homeDashboard.html
    │       ├── login.html
    │       ├── beneficios/
    │       │   └── lista_beneficio.html
    │       ├── finanzas/
    │       │   └── listado_movimientos.html
    │       ├── layouts/
    │       │   ├── base.html
    │       │   └── navbar.html
    │       └── solicitudes/
    │           └── crear_solicitud.html
    ├── App_LiderGeneral/
    │   ├── __init__.py
    │   ├── admin.py
    │   ├── apps.py
    │   ├── forms.py
    │   ├── models.py
    │   ├── tests.py
    │   ├── urls.py
    │   ├── views.py
    │   └── templates/
    │       └── lider_general/
    │           ├── agregar_beneficiario_global.html
    │           ├── censo_confirm_delete.html
    │           ├── censo_form_general.html
    │           ├── censo_list_general.html
    │           ├── estado_solvencia_basura.html
    │           ├── lista_usuarios.html
    │           ├── solicitudes_lista.html
    │           ├── solicitudes_procesar.html
    │           ├── usuario_confirm_delete.html
    │           └── usuario_form.html
    ├── App_LiderTorre/
    │   ├── __init__.py
    │   ├── admin.py
    │   ├── apps.py
    │   ├── forms.py
    │   ├── mixins.py
    │   ├── models.py
    │   ├── tests.py
    │   ├── urls.py
    │   ├── views.py
    │   └── templates/
    │       └── lider_torre/
    │           ├── agregar_beneficio.html
    │           ├── censo_confirm_delete.html
    │           ├── censo_form_torre.html
    │           ├── censo_list_torre.html
    │           └── movimiento_form.html
    └── Community_Service/
        ├── __init__.py
        ├── asgi.py
        ├── settings.py
        ├── urls.py
        └── wsgi.py

================================================
FILE: README.md
================================================
Error reading file with 'cp1252': 'charmap' codec can't decode byte 0x8f in position 2207: character maps to <undefined>


================================================
FILE: manage.py
================================================
#!/usr/bin/env python
"""Django's command-line utility for administrative tasks."""
import os
import sys


def main():
    """Run administrative tasks."""
    os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'Community_Service.settings')
    try:
        from django.core.management import execute_from_command_line
    except ImportError as exc:
        raise ImportError(
            "Couldn't import Django. Are you sure it's installed and "
            "available on your PYTHONPATH environment variable? Did you "
            "forget to activate a virtual environment?"
        ) from exc
    execute_from_command_line(sys.argv)


if __name__ == '__main__':
    main()



================================================
FILE: requirements.txt
================================================
[Binary file]


================================================
FILE: App_Home/__init__.py
================================================
[Empty file]


================================================
FILE: App_Home/admin.py
================================================
# App_Home/admin.py

from django.contrib import admin
from django.contrib.auth.admin import UserAdmin
from django.db.models import Sum, F
from django.utils.html import format_html
from .models import CustomUser, Tower, MovimientoFinanciero


# Clase de administrador personalizada para CustomUser
class AdministradorUsuario(UserAdmin):
    # Campos que se mostrarÃ¡n en la lista de usuarios del Admin
    list_display = (
        'username', 'email', 'first_name', 'last_name', 'is_staff', 
        'rol', 'tower', # <--- Â¡CORREGIDO! De 'torre' a 'tower'
        'is_active', 'mostrar_roles_secundarios'
    )
    
    # Campos que se podrÃ¡n editar/filtrar
    list_filter = ('is_staff', 'is_active', 'rol', 'tower', 'es_admin_basura', 'es_admin_clap', 'es_admin_bombonas')
    search_fields = ('username', 'first_name', 'last_name', 'email', 'cedula')
    ordering = ('username',)

    # Campos de roles secundarios combinados
    def mostrar_roles_secundarios(self, obj):
        roles = []
        if obj.es_admin_basura:
            roles.append("Basura")
        if obj.es_admin_clap:
            roles.append("CLAP")
        if obj.es_admin_bombonas:
            roles.append("Bombonas")
        
        if roles:
            return format_html('<span style="color: blue;">{}</span>', ", ".join(roles))
        return "-"
    mostrar_roles_secundarios.short_description = 'Roles Secundarios'
    
    # DefiniciÃ³n de Fieldsets (cÃ³mo se agrupan los campos en la vista de ediciÃ³n)
    fieldsets = UserAdmin.fieldsets + (
        ('InformaciÃ³n Personal Adicional', {'fields': ('cedula', 'apartamento', 'tower')}),
        ('Roles en la Comunidad', {'fields': ('rol', 'es_admin_basura', 'es_admin_clap', 'es_admin_bombonas')}),
    )

# ----------------------------------------------------
# Administrador para el modelo Tower
# ----------------------------------------------------
class AdministradorTower(admin.ModelAdmin):
    list_display = ('nombre', 'saldo_condominio', 'saldo_basura')
    search_fields = ('nombre',)
    ordering = ('nombre',)
    
    # AÃ±adir campos de saldo calculado
    def saldo_condominio(self, obj):
        return MovimientoFinanciero.calcular_saldo_condominio(tower=obj)
    saldo_condominio.short_description = 'Saldo Condominio'

    def saldo_basura(self, obj):
        return MovimientoFinanciero.calcular_saldo_basura(tower=obj)
    saldo_basura.short_description = 'Saldo Basura'
    
# ----------------------------------------------------
# Administrador para MovimientoFinanciero
# ----------------------------------------------------
class AdministradorMovimientoFinanciero(admin.ModelAdmin):
    list_display = ('fecha', 'descripcion', 'tipo', 'categoria', 'monto_total', 'tower', 'creado_por')
    list_filter = ('tipo', 'categoria', 'tower', 'creado_por')
    search_fields = ('descripcion',)
    date_hierarchy = 'fecha'
    ordering = ('-fecha',)
    
    # AÃ±adir una funciÃ³n para mostrar el monto total (suma de condominio y basura)
    def monto_total(self, obj):
        return obj.monto_condominio + obj.monto_basura
    monto_total.short_description = 'Monto Total'
    
    # Personalizar el formulario de ediciÃ³n/creaciÃ³n
    fieldsets = (
        (None, {'fields': ('fecha', 'descripcion', 'tipo', 'categoria', 'tower', 'creado_por')}),
        ('Montos', {'fields': ('monto_condominio', 'monto_basura')}),
    )
    
    # Auto-llenar el campo 'creado_por' con el usuario actual
    def save_model(self, request, obj, form, change):
        if not change:
            obj.creado_por = request.user
        super().save_model(request, obj, form, change)


# Registro de modelos en el administrador de Django
admin.site.register(CustomUser, AdministradorUsuario)
admin.site.register(Tower, AdministradorTower)
admin.site.register(MovimientoFinanciero, AdministradorMovimientoFinanciero)


================================================
FILE: App_Home/apps.py
================================================
from django.apps import AppConfig


class AppHomeConfig(AppConfig):
    default_auto_field = 'django.db.models.BigAutoField'
    name = 'App_Home'



================================================
FILE: App_Home/forms.py
================================================
Error reading file with 'cp1252': 'charmap' codec can't decode byte 0x81 in position 2468: character maps to <undefined>


================================================
FILE: App_Home/models.py
================================================
# App_Home/models.py

from django.db import models
from django.contrib.auth.models import AbstractUser
from django.db.models.signals import post_migrate
from django.dispatch import receiver
from django.db.models import Sum # Necesario para la funciÃ³n de saldo
from django.db.utils import OperationalError # ImportaciÃ³n clave para manejar el error
from decimal import Decimal
from datetime import date

# Modelo para las 24 Torres
class Tower(models.Model):
    nombre = models.CharField(max_length=50, unique=True, verbose_name='Nombre de la Torre')
    
    def __str__(self):
        return self.nombre  # Ejemplo: 'T01'
    
    class Meta:
        verbose_name = "Torre"
        verbose_name_plural = "Torres"
        ordering = ['nombre'] # Ordenar alfabÃ©ticamente

class MovimientoFinancieroManager(models.Manager):
    def calcular_saldo_torre(self, tower, categoria):
        """Calcula el saldo actual para una torre y categorÃ­a especÃ­fica."""
        
        # Determina el campo de monto a usar basado en la categorÃ­a
        monto_field = 'monto_condominio' if categoria == 'CON' else 'monto_basura'
        
        # Filtra por torre y categorÃ­a
        qs = self.filter(
            tower=tower, 
            categoria=categoria
        )

        # Suma los ingresos
        ingresos = qs.filter(tipo='ING').aggregate(total=Sum(monto_field))['total'] or Decimal('0.00')
        
        # Suma los egresos
        egresos = qs.filter(tipo='EGR').aggregate(total=Sum(monto_field))['total'] or Decimal('0.00')

        return ingresos - egresos
    
    def calcular_saldo_general_basura(self):
        """Calcula el saldo total de la categorÃ­a 'BASURA' (BAS) de TODAS las torres."""
        
        # El campo de monto a usar para la categorÃ­a Basura es 'monto_basura'
        monto_field = 'monto_basura'
        
        # Filtra solo por la categorÃ­a de Basura (BAS) de todas las torres
        qs = self.filter(categoria='BAS')

        # Suma los ingresos
        ingresos = qs.filter(tipo='ING').aggregate(total=Sum(monto_field))['total'] or Decimal(0)
        
        # Suma los egresos
        egresos = qs.filter(tipo='EGR').aggregate(total=Sum(monto_field))['total'] or Decimal(0)
        
        # Retorna el saldo total de la categorÃ­a 'BAS'
        return ingresos - egresos

# --- MOVIMIENTO FINANCIERO ---
class MovimientoFinanciero(models.Model):

    objects = MovimientoFinancieroManager()  # Asignar el Manager personalizado
    # Opciones de CategorÃ­a: Condominio General o Cuarto de Basura
    CATEGORIAS = [
        ('CON', 'Condominio'),
        ('BAS', 'Cuarto de Basura'),
    ]
    # Opciones de Tipo: Ingreso o Egreso
    TIPOS = [
        ('ING', 'Ingreso'),
        ('EGR', 'Egreso'),
    ]

    fecha = models.DateField(verbose_name='Fecha del Movimiento')
    descripcion = models.CharField(max_length=255, verbose_name='DescripciÃ³n')
    
    tasa_bcv = models.DecimalField(
        max_digits=10, 
        decimal_places=4, 
        verbose_name='Tasa BCV (Bs/USD)',
        # Se elimina null=True y blank=True para hacerlo obligatorio
        null=False, 
        blank=False,
        help_text="Tasa de referencia del BCV del dÃ­a en que se realizÃ³ el movimiento."
    )

    # Campos separados para mejor manejo en consultas
    monto_condominio = models.DecimalField(max_digits=10, decimal_places=2, default=0.00, verbose_name='Monto Condominio')
    monto_basura = models.DecimalField(max_digits=10, decimal_places=2, default=0.00, verbose_name='Monto Basura')
    
    tipo = models.CharField(max_length=3, choices=TIPOS, verbose_name='Tipo de Movimiento')
    categoria = models.CharField(max_length=3, choices=CATEGORIAS, verbose_name='CategorÃ­a')
    
    # RelaciÃ³n con la Torre (Si es un ingreso/egreso de una torre especÃ­fica)
    tower = models.ForeignKey(Tower, on_delete=models.CASCADE, null=True, blank=True, verbose_name='Torre Asociada')
    
    creado_por = models.ForeignKey('CustomUser', on_delete=models.SET_NULL, null=True, blank=True, verbose_name='Registrado por')

    def __str__(self):
        return f"{self.get_tipo_display()} - {self.get_categoria_display()} ({self.fecha})"
    
    class Meta:
        verbose_name = "Movimiento Financiero"
        verbose_name_plural = "Movimientos Financieros"
        ordering = ['-fecha', '-id']

    @staticmethod
    def calcular_saldo_condominio(tower=None):
        """Calcula el saldo total de Condominio, opcionalmente filtrado por Torre."""
        qs = MovimientoFinanciero.objects.filter(categoria='CON')
        if tower:
            qs = qs.filter(tower=tower)

        ingresos = qs.filter(tipo='ING').aggregate(total=Sum('monto_condominio'))['total'] or 0
        egresos = qs.filter(tipo='EGR').aggregate(total=Sum('monto_condominio'))['total'] or 0
        return ingresos - egresos

    @staticmethod
    def calcular_saldo_basura(tower=None):
        """Calcula el saldo total de Basura, opcionalmente filtrado por Torre."""
        qs = MovimientoFinanciero.objects.filter(categoria='BAS')
        if tower:
            qs = qs.filter(tower=tower)

        ingresos = qs.filter(tipo='ING').aggregate(total=Sum('monto_basura'))['total'] or 0
        egresos = qs.filter(tipo='EGR').aggregate(total=Sum('monto_basura'))['total'] or 0
        return ingresos - egresos


# --- MODELO PRINCIPAL: USUARIO PERSONALIZADO ---
class CustomUser(AbstractUser):
    
    # OPCIONES DE ROL
    ROL_LIDER_TORRE = 'LDT'
    ROL_LIDER_GENERAL = 'LDG'
    
    ROLES = [
        (ROL_LIDER_TORRE, 'LÃ­der de Torre'),
        (ROL_LIDER_GENERAL, 'LÃ­der General'),
    ]

    # CAMPOS PERSONALIZADOS
    cedula = models.CharField(max_length=15, unique=True, null=True, blank=True, verbose_name='CÃ©dula de Identidad')
    rol = models.CharField(max_length=3, choices=ROLES, default=ROL_LIDER_TORRE, verbose_name='Rol en la Comunidad')
    tower = models.ForeignKey(Tower, on_delete=models.SET_NULL, null=True, blank=True, verbose_name='Torre Asignada')
    apartamento = models.CharField(max_length=10, null=True, blank=True, verbose_name='Apartamento (Ej: P1-A)')

    # Campos de Roles Secundarios (Permisos)
    es_admin_basura = models.BooleanField(default=False, verbose_name='Administrador de Cuarto de Basura')
    es_admin_clap = models.BooleanField(default=False, verbose_name='Administrador de Bolsas CLAP')
    es_admin_bombonas = models.BooleanField(default=False, verbose_name='Administrador de Bombonas')
    
    def __str__(self):
        return self.username

    class Meta:
        verbose_name = "Usuario Personalizado"
        verbose_name_plural = "Usuarios Personalizados"

# ----------------------------------------------------
# SEÃ‘AL PARA CREAR TORRES INICIALES (CORREGIDA)
# ----------------------------------------------------
@receiver(post_migrate)
def crear_torres_iniciales(sender, apps, **kwargs): # AÃ±adimos 'apps' como argumento
    # Asegurarse de que el cÃ³digo se ejecute solo para esta aplicaciÃ³n
    if sender.name == 'App_Home':
        print("Verificando la creaciÃ³n de Torres iniciales (T01 a T24)...")
        
        # Obtenemos el modelo de Tower del estado actual de la BD
        try:
            Tower = apps.get_model('App_Home', 'Tower')
        except LookupError:
            return

        # Generar los nombres de las 24 torres (T01 a T24)
        nombres_torres = [f"T{i:02d}" for i in range(1, 25)]
        
        try:
            # LÃ³gica de creaciÃ³n de torres, envuelta en try-except
            torres_existentes = Tower.objects.values_list('nombre', flat=True)
            torres_a_crear = []
            
            for nombre in nombres_torres:
                if nombre not in torres_existentes:
                    torres_a_crear.append(Tower(nombre=nombre))
            
            if torres_a_crear:
                Tower.objects.bulk_create(torres_a_crear)
                print(f"Se crearon {len(torres_a_crear)} torres faltantes.")
            else:
                print("Todas las torres ya existen.")
        
        except OperationalError as e:
            # Capturamos el error especÃ­fico de tabla no existente y salimos limpiamente
            if 'no such table' in str(e):
                print(f"ADVERTENCIA: La tabla 'App_Home_tower' aÃºn no existe. La creaciÃ³n de torres se pospone hasta que se complete la migraciÃ³n.")
            else:
                raise e # Re-lanzar cualquier otro error
        except Exception as e:
            # Capturamos otros posibles errores de Django
            if 'no such table' in str(e):
                print(f"ADVERTENCIA: La tabla 'App_Home_tower' aÃºn no existe. La creaciÃ³n de torres se pospone hasta que se complete la migraciÃ³n.")
            else:
                raise e

class CensoMiembro(models.Model):
    GENEROS = [
        ('M', 'Masculino'),
        ('F', 'Femenino'),
    ]
    
    # Opciones para Apartamentos (3 Pisos, 4 Letras)
    PISOS = [('P1', 'Piso 1'), ('P2', 'Piso 2'), ('P3', 'Piso 3')]
    LETRAS = [('A', 'A'), ('B', 'B'), ('C', 'C'), ('D', 'D')]

    nombres = models.CharField(max_length=100, verbose_name='Nombres')
    apellidos = models.CharField(max_length=100, verbose_name='Apellidos')
    cedula = models.CharField(max_length=15, unique=True, verbose_name='CÃ©dula')
    fecha_nacimiento = models.DateField(verbose_name='Fecha de Nacimiento')
    genero = models.CharField(max_length=1, choices=GENEROS, verbose_name='GÃ©nero')
    telefono = models.CharField(max_length=20, blank=True, null=True, verbose_name='TelÃ©fono')
    
    # UbicaciÃ³n
    tower = models.ForeignKey(Tower, on_delete=models.CASCADE, verbose_name='Torre')
    piso = models.CharField(max_length=2, choices=PISOS, verbose_name='Piso')
    apartamento_letra = models.CharField(max_length=1, choices=LETRAS, verbose_name='Letra Apto')
    
    es_jefe_familia = models.BooleanField(default=False, verbose_name='Â¿Es Jefe de Familia?')

    @property
    def edad(self):
        today = date.today()
        return today.year - self.fecha_nacimiento.year - ((today.month, today.day) < (self.fecha_nacimiento.month, self.fecha_nacimiento.day))

    @property
    def apartamento_completo(self):
        return f"{self.piso}-{self.apartamento_letra}"

    def __str__(self):
        return f"{self.nombres} {self.apellidos} ({self.tower} - {self.apartamento_completo})"

    class Meta:
        verbose_name = "Miembro del Censo"
        verbose_name_plural = "Miembros del Censo"
        # Ordenar por Torre, luego Piso, luego Letra
        ordering = ['tower', 'piso', 'apartamento_letra']

class CicloBeneficio(models.Model):
    TIPOS = [
        ('CLAP', 'Bolsa CLAP'),
        ('GAS', 'Bombona de Gas'),
    ]

    tipo = models.CharField(max_length=4, choices=TIPOS, verbose_name='Tipo de Beneficio')
    nombre = models.CharField(max_length=50, verbose_name='Nombre del Ciclo (Ej: Noviembre 2024)')
    fecha_apertura = models.DateField(auto_now_add=True, verbose_name='Fecha de Apertura')
    activo = models.BooleanField(default=True, verbose_name='Â¿Ciclo Activo?')

    def __str__(self):
        return f"{self.get_tipo_display()} - {self.nombre}"

    class Meta:
        verbose_name = "Ciclo de Beneficio"
        verbose_name_plural = "Ciclos de Beneficios"
        ordering = ['-fecha_apertura']

class EntregaBeneficio(models.Model):
    ciclo = models.ForeignKey(CicloBeneficio, on_delete=models.CASCADE, related_name='entregas')
    beneficiario = models.ForeignKey(CensoMiembro, on_delete=models.CASCADE, verbose_name='Vecino Beneficiado')
    fecha_agregado = models.DateTimeField(auto_now_add=True)
    
    # Opcional: Para saber quiÃ©n lo agregÃ³ a la lista
    agregado_por = models.ForeignKey(CustomUser, on_delete=models.SET_NULL, null=True, blank=True)

    class Meta:
        verbose_name = "Beneficiario en Lista"
        verbose_name_plural = "Beneficiarios en Lista"
        unique_together = ('ciclo', 'beneficiario') # Evita duplicados en la misma lista

    def __str__(self):
        return f"{self.beneficiario} - {self.ciclo}"
    

# --- NUEVO MODELO: SOLICITUDES DE DOCUMENTOS ---
class SolicitudDocumento(models.Model):
    TIPOS = [
        ('CARTA_CONDUCTA', 'Carta de Buena Conducta'),
        ('CARTA_MUDANZA', 'Carta de Mudanza'),               
        ('CONSTANCIA_RESIDENCIA', 'Constancia de Residencia'),
        ('CONSTANCIA_MIGRATORIA', 'Constancia Migratoria'),
    ]
    
    ESTADOS = [
        ('PENDIENTE', 'Pendiente'),
        ('PROCESADO', 'Procesado'),
    ]

    # Vinculamos con el Censo para sacar datos automÃ¡ticos
    beneficiario = models.ForeignKey(CensoMiembro, on_delete=models.CASCADE, verbose_name='Vecino Solicitante')
    
    tipo = models.CharField(max_length=30, choices=TIPOS, default='CARTA_CONDUCTA', verbose_name='Tipo de Documento')
    estado = models.CharField(max_length=15, choices=ESTADOS, default='PENDIENTE', verbose_name='Estado')
    fecha_solicitud = models.DateTimeField(auto_now_add=True, verbose_name='Fecha Solicitud')
    
    # -- Campos especÃ­ficos para Carta de Buena Conducta (Se llenan al procesar) --
    anios_residencia = models.CharField(max_length=50, blank=True, null=True, verbose_name='AÃ±os de Residencia')

    # -- NUEVOS CAMPOS para Carta de Mudanza --
    mudanza_anio_inicio = models.CharField(max_length=4, blank=True, null=True, verbose_name='AÃ±o de Inicio (Mudanza)')
    mudanza_fecha_fin = models.CharField(max_length=50, blank=True, null=True, verbose_name='Fecha Fin (Ej: Octubre del 2025)')

    # -- NUEVOS CAMPOS para Constancia Migratoria --
    migratoria_anio_inicio = models.CharField(max_length=4, blank=True, null=True, verbose_name='AÃ±o de Inicio (Migratoria)') # <-- AÃ‘ADIR ESTE
    migratoria_anio_fin = models.CharField(max_length=4, blank=True, null=True, verbose_name='AÃ±o de Fin (Migratoria)') # <-- AÃ‘ADIR ESTE

    # AuditorÃ­a
    procesado_por = models.ForeignKey('CustomUser', on_delete=models.SET_NULL, null=True, blank=True, verbose_name='Procesado por')
    fecha_proceso = models.DateTimeField(null=True, blank=True)

    def __str__(self):
        return f"{self.get_tipo_display()} - {self.beneficiario.cedula}"

    class Meta:
        verbose_name = "Solicitud de Documento"
        verbose_name_plural = "Solicitudes de Documentos"
        ordering = ['-fecha_solicitud']


================================================
FILE: App_Home/tests.py
================================================
from django.test import TestCase

# Create your tests here.



================================================
FILE: App_Home/urls.py
================================================
from django.urls import path
from . import views

urlpatterns = [
    path('', views.vista_dashboard, name='url_dashboard'),
    path('login/', views.vista_login, name='url_login'),
    path('logout/', views.vista_logout, name='url_logout'),
    path('register/', views.vista_registro, name='url_registro'),
    path('register/perfil/<int:user_id>/', views.vista_completar_perfil, name='url_completar_perfil'),
    path('register/cancelar/<int:user_id>/', views.cancelar_registro, name='url_cancelar_registro'),
    
    # --- ADMINISTRACIÃ“N DE INGRESOS Y EGRESOS ---
    path('finanzas/<str:categoria_slug>/', views.ver_ingresos_egresos, name='ver_finanzas'),
    
    # URL para descargar el archivo PDF (ejemplo: /finanzas/condominio/descargar/)
    path('finanzas/<str:categoria_slug>/descargar/', views.descargar_pdf, name='descargar_pdf'),

    # --- VISTAS DE BENEFICIOS (PÃšBLICO + GESTIÃ“N VISUAL) ---
    path('beneficios/<str:tipo_slug>/', views.vista_beneficio, name='ver_beneficio'),
    path('beneficios/pdf/<int:ciclo_id>/', views.descargar_pdf_beneficio, name='pdf_beneficio'),

    # --- VISTAS DE DOCUMENTOS ---
    path('solicitudes/nueva/', views.vista_solicitar_documento, name='solicitar_documento'),
]


================================================
FILE: App_Home/views.py
================================================
Error reading file with 'cp1252': 'charmap' codec can't decode byte 0x81 in position 8572: character maps to <undefined>


================================================
FILE: App_Home/static/css/styles-HD.css
================================================
@import url('material-theme/light.css');

.dashboard-container {
    width: 100%;
    max-width: 1200px;
    padding: 20px;
    background-color: white;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    margin: 20px;
}

/* Encabezado (sin cambios) */
.dashboard-header {
    text-align: center;
    margin-bottom: 30px;
    padding-bottom: 10px;
    border-bottom: 2px solid var(--md-sys-color-secondary);
}

/* Contenedor de Botones (Grid Responsive y Adaptable) (sin cambios) */
.botones-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    justify-content: center; 
    align-items: stretch;
}

/* Estilos de los Botones Principales (sin cambios en la base) */
.boton-principal {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 25px 15px;
    background-color: var(--md-sys-color-primary);
    color: white;
    text-decoration: none;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1.1em;
    font-weight: bold;
    transition: background-color 0.3s, box-shadow 0.2s;
    text-align: center;
    min-height: 120px;
    line-height: 1.4;
    width: 100%;
}

.boton-principal:hover {
    background-color: #0056b3;
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
}

.boton-principal i {
    font-size: 2em;
    margin-bottom: 10px;
}

/* Estilos para el Dropdown (AdministraciÃ³n) */
.dropdown {
    position: relative;
    display: flex;
    flex-direction: column;
    width: 100%;
    min-height: 120px;
    box-shadow: none;
    transition: none;
    /* QUITAMOS el hover del contenedor padre aquÃ­, JavaScript lo manejarÃ¡ */
}

.dropdown .boton-principal.dropbtn {
    flex-grow: 1;
    border-radius: 8px;
}

/* Estilos del contenido desplegable */
.dropdown-content {
    /* Ocultamos el contenido por defecto con height: 0 y overflow: hidden */
    display: block; /* Para que tome el espacio, pero lo controlamos con height */
    overflow: hidden;
    height: 0;
    opacity: 0;
    transition: height 0.3s ease-out, opacity 0.3s ease-out; /* TransiciÃ³n para animaciÃ³n */

    position: absolute; /* Para que no afecte el layout cuando estÃ¡ oculto */
    background-color: #f9f9f9;
    width: 100%; 
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 10;
    border-radius: 0 0 8px 8px;
    top: 100%;
    left: 0;
}

/* Clase para mostrar el menÃº, aÃ±adida/removida por JavaScript */
.dropdown-content.show {
    height: auto; /* Permite que el contenido tome su altura natural */
    opacity: 1;
    /* Ajusta max-height si tienes un contenido muy variable, o dÃ©jalo en auto */
    /* Por ejemplo: max-height: 200px; */ 
    height: auto; /* Se ajusta a la altura del contenido */
}

.dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
    text-align: center;
    font-size: 1em;
    border-bottom: 1px solid #eee;
}

.dropdown-content a:last-child {
    border-bottom: none;
}

.dropdown-content a:hover {
    background-color: #ddd;
    color: var(--md-sys-color-primary);
}

/* Media Queries para Responsive (sin cambios) */
@media (min-width: 600px) {
    .botones-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 900px) {
    .botones-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}


================================================
FILE: App_Home/static/css/styles-lidergeneral.css
================================================
/* App_Home/static/css/styles-lidergeneral.css */

/* 1. Importar la paleta de colores Material Design Light */
@import url('material-theme/light.css');

/* 2. Contenedor General (Mismo estilo que el dashboard) */
.user-container {
    width: 100%;
    max-width: 1200px;
    padding: 20px;
    background-color: var(--md-sys-color-surface); /* Blanco claro */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    margin: 20px auto; /* Centrar el contenedor */
}

/* 3. Estilos de Tabla: Lista de Usuarios (lista_usuarios.html) */

.table-responsive {
    overflow-x: auto; /* Hace la tabla responsive en pantallas pequeÃ±as */
}

.table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
    font-size: 0.9em;
}

.table thead th {
    background-color: var(--md-sys-color-primary);
    color: var(--md-sys-color-on-primary); /* Texto blanco */
    padding: 12px 15px;
    text-align: left;
    white-space: nowrap; /* Evita que los encabezados se envuelvan */
}

.table tbody tr:nth-child(even) {
    background-color: var(--md-sys-color-surface-variant); /* Raya par */
}

.table tbody tr:hover {
    background-color: var(--md-sys-color-secondary-container); /* Resaltar al pasar el mouse */
}

.table tbody td {
    padding: 10px 15px;
    border-bottom: 1px solid var(--md-sys-color-outline-variant);
}

/* Estilos para badges (Activo/Inactivo) */
.badge {
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.75em;
    font-weight: 600;
}
.bg-success {
    background-color: var(--md-sys-color-tertiary);
    color: var(--md-sys-color-on-tertiary);
}
.bg-danger {
    background-color: var(--md-sys-color-error);
    color: var(--md-sys-color-on-error);
}

/* 4. Estilos de Formulario (usuario_form.html) */

.form-group {
    margin-bottom: 15px;
}

.form-label {
    font-weight: 600;
    color: var(--md-sys-color-on-surface);
    display: block;
    margin-bottom: 5px;
}

/* Estilo para inputs (Select, Text, etc.) */
.form-group input:not([type="checkbox"]), 
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 10px;
    border: 1px solid var(--md-sys-color-outline);
    border-radius: 4px;
    transition: border-color 0.3s;
    background-color: var(--md-sys-color-surface);
}

.form-group input:focus, 
.form-group select:focus,
.form-group textarea:focus {
    border-color: var(--md-sys-color-primary); /* Resaltar al enfocar */
    outline: none;
}

/* Estilo de la grid responsiva (col-md-6) */
.row.g-3 {
    display: flex;
    flex-wrap: wrap;
    margin: -8px; /* Ajuste para el padding interno de col-md-6 */
}
.row.g-3 > .col-md-6 {
    padding: 8px; /* Espaciado entre columnas */
    flex: 0 0 100%; /* Por defecto 100% en mÃ³vil */
    max-width: 100%;
}
@media (min-width: 768px) { /* Tablet y Desktop */
    .row.g-3 > .col-md-6 {
        flex: 0 0 50%; /* Dos columnas en desktop */
        max-width: 50%;
    }
}

/* 5. Estilos de Botones (Botones de acciÃ³n en formularios/listas) */

.btn {
    padding: 10px 15px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 600;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 5px;
    justify-content: center;
}

.btn-primary {
    background-color: var(--md-sys-color-primary);
    color: var(--md-sys-color-on-primary);
}
.btn-primary:hover {
    background-color: var(--md-sys-color-primary-container);
    color: var(--md-sys-color-on-primary-container);
}

.btn-success {
    background-color: #388e3c; /* Tonalidad de Ã©xito */
    color: white;
}
.btn-success:hover {
    background-color: #4caf50;
}

.btn-info {
    background-color: var(--md-sys-color-secondary);
    color: var(--md-sys-color-on-secondary);
}
.btn-info:hover {
    background-color: var(--md-sys-color-secondary-container);
    color: var(--md-sys-color-on-secondary-container);
}

.btn-danger {
    background-color: var(--md-sys-color-error);
    color: var(--md-sys-color-on-error);
}
.btn-danger:hover {
    background-color: #cf6679; /* Tono de error mÃ¡s claro */
}

.btn-secondary {
    background-color: var(--md-sys-color-outline);
    color: var(--md-sys-color-on-surface);
}
.btn-secondary:hover {
    background-color: var(--md-sys-color-surface-variant);
}


/* 6. Estilos de Alertas (usuario_confirm_delete.html y usuario_form.html) */

.alert {
    padding: 15px;
    margin-bottom: 20px;
    border: 1px solid transparent;
    border-radius: 4px;
}

.alert-danger {
    background-color: rgba(244, 67, 54, 0.1); /* Error claro */
    color: var(--md-sys-color-error);
    border-color: var(--md-sys-color-error);
}

.alert-warning {
    background-color: rgba(255, 152, 0, 0.1); /* Advertencia claro */
    color: #ff9800;
    border-color: #ff9800;
}

.alert-heading {
    font-weight: 700;
    margin-bottom: 5px;
}


================================================
FILE: App_Home/static/css/styles-listado.css
================================================
/* CAMBIO CLAVE 1: Importar la paleta de colores Material Design */
@import url('material-theme/light.css');

/* Contenedor principal */
.container.mt-5 {
    padding: 20px;
    background-color: var(--md-sys-color-surface); /* Fondo blanco/claro */
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
}

/* TÃ­tulo */
h2.mb-4 {
    /* CAMBIO 2: Usar el color Primario del tema */
    color: var(--md-sys-color-primary);
    border-bottom: 2px solid var(--md-sys-color-outline-variant);
    padding-bottom: 10px;
    margin-bottom: 20px !important;
}

/* Formulario de Filtros */
.row.g-3.mb-4 {
    padding: 15px;
    background-color: var(--md-sys-color-surface-container-low); /* Contenedor de filtros */
    border-radius: 6px;
    margin-bottom: 30px !important;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);
}

.form-label {
    font-weight: 600;
    color: var(--md-sys-color-on-surface-variant);
}

/* Botones de acciÃ³n */
/* CAMBIO 3: Usar variables para los botones (Primario para aplicar, Error para PDF) */
.btn-primary {
    background-color: var(--md-sys-color-primary);
    border-color: var(--md-sys-color-primary);
    color: var(--md-sys-color-on-primary);
}

.btn-primary:hover {
    background-color: var(--md-sys-color-primary-dark); /* Asumiendo un hover mÃ¡s oscuro */
    border-color: var(--md-sys-color-primary-dark);
}

.btn-danger {
    background-color: var(--md-sys-color-error);
    border-color: var(--md-sys-color-error);
    color: var(--md-sys-color-on-error);
}

.btn-danger:hover {
    background-color: var(--md-sys-color-error-dark); /* Asumiendo un hover mÃ¡s oscuro */
    border-color: var(--md-sys-color-error-dark);
}

/* Tabla de Movimientos */
.table-responsive {
    /* Forzar un alto mÃ¡ximo para que el scroll se active (70% del alto de la ventana) */
    max-height: 70vh; 
    /* Habilitar el scroll vertical si el contenido excede el max-height */
    overflow-y: auto; 
    
    /* Reglas originales (mantener) */
    overflow-x: auto;
    margin-top: 20px;
    
    /* Estilos estÃ©ticos opcionales para delimitar la caja de scroll */
    border: 1px solid var(--md-sys-color-outline-variant); 
    border-radius: 6px;
}

.table {
    min-width: 700px;
    margin-bottom: 0; /* Evita doble margen con el scroll */
    width: 100%;
}

.table-dark th {
    /* Usar un color secundario para el encabezado de la tabla, o un fondo oscuro */
    background-color: var(--md-sys-color-primary-container);
    color: var(--md-sys-color-on-primary-container);
    font-weight: 600;
}

/* Estilos para Ingresos y Egresos */
/* CAMBIO 4: Usar colores de Ã©xito y peligro para los montos */
.text-success {
    color: var(--md-sys-color-success) !important; /* Ingresos en verde (Definido en tu theme si existe) */
    font-weight: 500;
}

.text-danger {
    color: var(--md-sys-color-error) !important; /* Egresos en rojo */
    font-weight: 500;
}

/* Columna Saldo */
.table tbody tr td:last-child {
    font-weight: 700;
    color: var(--md-sys-color-on-surface);
}

/* Responsive Design para la tabla */
@media (max-width: 768px) {
    .row.g-3.mb-4 .col-md-4 {
        margin-bottom: 15px;
    }
    .row.g-3.mb-4 .col-md-4:last-child {
        display: block !important;
        text-align: center;
    }
    .row.g-3.mb-4 .col-md-4 .btn {
        width: 100%;
        margin-bottom: 10px;
    }
    
    .table-responsive {
        border: 1px solid var(--md-sys-color-outline-variant);
        border-radius: 6px;
    }
}


/* --- Bloque de Botones de AcciÃ³n (Reemplaza la versiÃ³n de menÃº lateral) --- */

.action-buttons-container {
    margin-top: 30px;
    padding: 20px;
    background-color: var(--md-sys-color-surface-container); /* Fondo sutil para el bloque */
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
}

.action-buttons-title {
    color: var(--md-sys-color-primary);
    border-bottom: 2px solid var(--md-sys-color-outline-variant);
    padding-bottom: 8px;
    margin-bottom: 20px;
    font-size: 1.2em;
    font-weight: 600;
}

/* Grid Responsive para los Botones */
.action-buttons-grid {
    display: grid;
    /* En mÃ³vil, una columna. En desktop, dos columnas (minmax(250px, 1fr)) */
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 15px;
}

.action-button {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 15px 10px;
    text-decoration: none;
    border-radius: 6px;
    font-weight: 600;
    font-size: 1em;
    transition: transform 0.2s, box-shadow 0.2s;
    text-align: center;
}

.action-button i {
    margin-right: 10px;
    font-size: 1.2em;
}

/* Estilos especÃ­ficos para Condominio/Basura */
.btn-ingreso {
    background-color: var(--md-sys-color-tertiary);
    color: var(--md-sys-color-on-tertiary);
}

.btn-ingreso:hover {
    background-color: var(--md-sys-color-tertiary-container);
    color: var(--md-sys-color-on-tertiary-container);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.btn-egreso {
    background-color: var(--md-sys-color-error);
    color: var(--md-sys-color-on-error);
}

.btn-egreso:hover {
    background-color: var(--md-sys-color-error-container);
    color: var(--md-sys-color-on-error-container);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.btn-disabled {
    background-color: var(--md-sys-color-surface-variant) !important;
    color: var(--md-sys-color-on-surface-variant) !important;
    cursor: not-allowed;
    opacity: 0.7;
    text-decoration: line-through;
}


================================================
FILE: App_Home/static/css/styles-login.css
================================================
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700; 800; 900&display=swap');
@import url('material-theme/light.css');

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Poppins', sans-serif;
}

body {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    /* Se cambia el gradiente a un color de fondo basado en el tema */
    background: var(--md-sys-color-background);
    padding: 20px;
}

/* --- NUEVAS REGLAS CSS PARA MENSAJES DE ALERTA ABSOLUTOS --- */

.message-container {
    /* 1. POSICIONAMIENTO ABSOLUTO Y CENTRADO */
    position: absolute;
    top: 20px; /* Distancia desde el borde superior */
    left: 50%;
    transform: translateX(-50%); /* Centra el elemento horizontalmente */
    width: 90%; /* Ancho mÃ¡ximo para el contenedor */
    max-width: 450px; /* Limita el ancho en pantallas grandes */
    z-index: 1000; /* Asegura que estÃ© por encima de todos los demÃ¡s elementos */
}

.alert {
    /* 2. ESTILO VISUAL Y TRANSICIÃ“N */
    padding: 15px 20px;
    margin-bottom: 10px;
    border: 1px solid transparent;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    opacity: 1;
    /* Configura la transiciÃ³n para la opacidad y el desplazamiento */
    transition: opacity 0.5s ease-in-out, transform 0.3s ease-in-out; 
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

/* Estilos de color para errores (error/danger) usando Material Design */
.alert.error, .alert.danger {
    color: var(--md-sys-color-on-error-container);
    background-color: var(--md-sys-color-error-container);
    border-color: var(--md-sys-color-error);
}

/* Estilos de color para Ã©xito (success) usando Material Design */
.alert.success {
    color: var(--md-sys-color-on-primary-container);
    background-color: var(--md-sys-color-primary-container);
    border-color: var(--md-sys-color-primary);
}

/* Estilos de color para otros mensajes (info/warning) usando Material Design */
.alert.info, .alert.warning {
    color: var(--md-sys-color-on-tertiary-container);
    background-color: var(--md-sys-color-tertiary-container);
    border-color: var(--md-sys-color-tertiary);
}

/* 3. CLASE PARA DESAPARECER (OPACIDAD Y DESPLAZAMIENTO) */
.alert.hide {
    opacity: 0;
    transform: translateY(-20px);
}

/* --- FIN DE LAS NUEVAS REGLAS CSS PARA MENSAJES DE ALERTA --- */

.container {
    position: relative;
    width: 850px;
    height: 550px;
    /* Se cambia #fff por el color de superficie */
    background: var(--md-sys-color-surface);
    border-radius: 30px;
    box-shadow: 0 0px 30px rgba(0, 0, 0, 0.2);
    margin: 20px;
    overflow: hidden;
}

.form-box {
    position: absolute;
    right: 0;
    width: 50%;
    height: 100%;
    /* Se cambia #fff por el color de superficie */
    background: var(--md-sys-color-surface);
    display: flex;
    align-items: center;
    /* Se cambia #333 por el color de texto principal */
    color: var(--md-sys-color-on-surface);
    text-align: center;
    padding: 40px;
    z-index: 1;
    transition: .6s ease-in-out 1.2s, visibility 0s 1s;
}

.container.active .form-box {
    right: 50%;
}

.form-box.register {
    visibility: hidden;
}

.container.active .form-box.register {
    visibility: visible;
    z-index: 2;
}

form {
    width: 100%;
}

.container h1 {
    font-size: 36px;
    margin: -10px 0;
}

.input-box {
    position: relative;
    margin: 30px 0;
}

.input-box input {
    width: 100%;
    padding: 13px 50px 13px 20px;
    /* Se cambia #eee por un color de fondo de contenedor de superficie claro */
    background: var(--md-sys-color-surface-container-low);
    border-radius: 8px;
    border: none;
    outline: none;
    font-size: 16px;
    /* Se cambia #333 por el color de texto principal */
    color: var(--md-sys-color-on-surface);
    font-weight: 500;
}

.input-box input::placeholder {
    /* Se cambia #888 por un color de texto secundario */
    color: var(--md-sys-color-on-surface-variant);
    font-weight: 400;
}

.input-box i {
    position: absolute;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 20px;
    /* Se cambia #888 por un color de texto secundario */
    color: var(--md-sys-color-on-surface-variant);
}

.forgot-link {
    margin: -15px 0 15px;
}

.forgot-link a {
    font-size: 14.5px;
    /* Se cambia #333 por el color de texto principal */
    color: var(--md-sys-color-on-surface);
    text-decoration: none;
}

.btn {
    width: 100%;
    height: 48px;
    /* Se cambia #7494ec por el color primario */
    background: var(--md-sys-color-primary);
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, .1);
    border: none;
    cursor: pointer;
    font-size: 16px;
    /* Se cambia #fff por el color de texto sobre primario */
    color: var(--md-sys-color-on-primary);
    font-weight: 600;
}

.container p {
    font-size: 14.5px;
    margin: 15px 0;
}

.toggle-box {
    position: absolute;
    width: 100%;
    height: 100%;
}

.toggle-box::before {
    content: '';
    position: absolute;
    left: -250%;
    width: 300%;
    height: 100%;
    /* Se cambia #7494ec por el color primario */
    background: var(--md-sys-color-primary);
    border-radius: 150px;
    z-index: 2;
    transition: 1.8s ease-in-out;
}

.container.active .toggle-box::before {
    left: 50%;
}

.toggle-panel {
    position: absolute;
    width: 50%;
    height: 100%;
    /* Se cambia #fff por el color de texto sobre primario */
    color: var(--md-sys-color-on-primary);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 2;
    transition: .6s ease-in-out;
}

.toggle-panel.toggle-left {
    left: 0;
    transition-delay: 1.2s;
}

.container.active .toggle-panel.toggle-left {
    left: -50%;
    transition-delay: .6s;
}

.toggle-panel.toggle-right {
    right: -50%;
    transition-delay: .6s;
}

.container.active .toggle-panel.toggle-right {
    right: 0;
    transition-delay: 1.2s;
}

.toggle-panel p {
    margin-bottom: 20px;
}

.toggle-panel .btn {
    width: 160px;
    height: 46px;
    background: transparent;
    /* Se cambia #fff por el color de texto sobre primario */
    border: 2px solid var(--md-sys-color-on-primary);
    box-shadow: none;
}

.form-box.login .back-link-container {
    /* Mueve el contenedor hacia abajo para separarlo del botÃ³n */
    margin-top: 20px; 
    text-align: center; /* Centra el enlace */
}

.form-box.login .back-link-container a {
    /* Quita el color morado (que es el default del navegador) */
    color: var(--md-sys-color-secondary); 
    /* Quita el subrayado */
    text-decoration: none; 
    font-weight: 500;
    font-size: 0.9em;
    transition: color 0.3s;
}

.form-box.login .back-link-container a:hover {
    /* Usa el color primario al pasar el ratÃ³n para resaltar */
    color: var(--md-sys-color-primary); 
    text-decoration: underline; /* Agrega subrayado al pasar el ratÃ³n */
}

@media screen and (max-width:650px) {
    .container {
        height: calc(100vh - 40px);
    }

    .form-box {
        bottom: 0;
        width: 100%;
        height: 70%;
    }

    .container.active .form-box {
        right: 0;
        bottom: 30%;
    }

    .toggle-box::before {
        left: 0;
        top: -270%;
        width: 100%;
        height: 300%;
        border-radius: 20vw;
    }

    .container.active .toggle-box::before {
        left: 0;
        top: 70%;
    }

    .toggle-panel {
        width: 100%;
        height: 30%;
    }

    .toggle-panel.toggle-left {
        top: 0;
    }

    .container.active .toggle-panel.toggle-left {
        left: 0;
        top: -30%;
    }

    .toggle-panel.toggle-right {
        right: 0;
        bottom: -30%;
    }

    .container.active .toggle-panel.toggle-right {
        bottom: 0;
    }
}

@media screen and (max-width:450px) {
    .form-box {
        padding: 20px;
    }

    .toggle-panel h1 {
        font-size: 30px;
    }
}


================================================
FILE: App_Home/static/css/styles-navbar.css
================================================
Error reading file with 'cp1252': 'charmap' codec can't decode byte 0x8d in position 1377: character maps to <undefined>


================================================
FILE: App_Home/static/css/styles-perfil.css
================================================
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap');
@import url('material-theme/light.css'); 

/* ------------------------------------------- */
/* 1. Contenedor de la PÃ¡gina y el Formulario (Layout General) */
/* ------------------------------------------- */

/* Wrapper: Define el fondo de la pÃ¡gina y centra el formulario */
.perfil-container-wrapper {
    display: flex;
    justify-content: center;
    /* Alinea arriba en pantallas largas, para que el scroll inicie desde arriba */
    align-items: flex-start; 
    padding: 20px;
    min-height: 100vh;
    /* Usa el color de fondo de Material Design */
    background: var(--md-sys-color-background); 
}

/* Contenedor: La "tarjeta" del formulario (el estilo de card) */
.perfil-container {
    width: 100%;
    max-width: 650px; /* Ancho cÃ³modo para formularios verticales */
    /* Usa el color de superficie de Material Design */
    background: var(--md-sys-color-surface); 
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    padding: 30px;
    margin: 20px 0; /* Asegura un margen vertical si hay mucho contenido */
    color: var(--md-sys-color-on-surface);
}

.perfil-container h1 {
    text-align: center;
    margin-bottom: 5px;
    font-size: 32px;
    color: var(--md-sys-color-primary);
}

.perfil-container > p {
    text-align: center;
    margin-bottom: 25px;
    color: var(--md-sys-color-on-surface-variant);
    font-weight: 500;
}

/* ------------------------------------------- */
/* 2. Estilos de Formulario (TÃ­tulos, Grupos, Inputs) */
/* ------------------------------------------- */

.perfil-container h2 {
    margin-top: 30px;
    margin-bottom: 15px;
    padding-bottom: 5px;
    border-bottom: 2px solid var(--md-sys-color-secondary);
    font-size: 24px;
    font-weight: 600;
    color: var(--md-sys-color-on-surface);
}

.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    font-size: 1em;
    color: var(--md-sys-color-on-surface);
}

/* Estilos para inputs (text, email, password) y selects (select) */
.perfil-container input:not([type="checkbox"]),
.perfil-container select {
    width: 100%;
    padding: 12px 15px;
    /* Usa un color de superficie mÃ¡s bajo para simular el campo de texto */
    background: var(--md-sys-color-surface-container-low); 
    border-radius: 8px;
    /* Usa un color de contorno variante */
    border: 1px solid var(--md-sys-color-outline-variant); 
    outline: none;
    font-size: 16px;
    color: var(--md-sys-color-on-surface);
    transition: border-color 0.3s, box-shadow 0.3s;
    min-height: 48px; /* Altura estÃ¡ndar para accesibilidad tÃ¡ctil */
}

.perfil-container input:focus,
.perfil-container select:focus {
    border-color: var(--md-sys-color-primary);
    /* Sombra para efecto de enfoque de Material Design */
    box-shadow: 0 0 0 2px var(--md-sys-color-primary-container);
}

/* ------------------------------------------- */
/* 3. Layout Responsivo para Filas (.form-row) */
/* ------------------------------------------- */

.form-row {
    display: grid;
    /* Por defecto, una columna para dispositivos mÃ³viles (responsive) */
    grid-template-columns: 1fr; 
    gap: 20px;
}

/* Media Query para Escritorio y Tablets (2 columnas) */
@media (min-width: 600px) {
    .form-row {
        /* En pantallas mÃ¡s grandes, establece 2 columnas de igual ancho */
        grid-template-columns: 1fr 1fr; 
    }
}

/* ------------------------------------------- */
/* 4. Estilos de Checkboxes y Botones */
/* ------------------------------------------- */

.checkbox-group {
    padding: 15px;
    border: 1px dashed var(--md-sys-color-outline);
    border-radius: 8px;
    background: var(--md-sys-color-surface-container-low);
}

.form-check {
    display: flex;
    align-items: flex-start; 
    margin-bottom: 10px;
    font-size: 1em;
}

.form-check label {
    margin-bottom: 0; /* Elimina el margen inferior predeterminado del label */
    margin-left: 5px;
    font-weight: 400;
}

.form-check input[type="checkbox"] {
    /* Ajusta el checkbox para que se alinee con el texto */
    width: auto;
    height: 1.2em;
    min-height: unset;
    margin-right: 10px;
    margin-top: 3px; 
}

/* Estilo del BotÃ³n (Similar a styles-login.css) */
.btn {
    width: 100%;
    height: 48px;
    background: var(--md-sys-color-primary);
    border-radius: 8px;
    border: none;
    cursor: pointer;
    font-size: 16px;
    color: var(--md-sys-color-on-primary);
    font-weight: 600;
    transition: background-color 0.3s;
    margin-top: 20px !important; /* Fuerza el margen superior */
}

.btn:hover {
    background: var(--md-sys-color-primary-container);
    color: var(--md-sys-color-on-primary-container);
}

/* ------------------------------------------- */
/* 5. Estilos de Mensajes/Alertas de Django */
/* ------------------------------------------- */

.mensajes-django-container {
    margin-bottom: 20px;
}

.alerta {
    padding: 15px;
    margin-bottom: 10px;
    border-radius: 8px;
    font-size: 1em;
    font-weight: 500;
}

/* Colores de Alertas (Adaptados a Material Design) */
.alerta-success { /* tags='success' */
    background-color: var(--md-sys-color-success-container); 
    color: var(--md-sys-color-on-success-container);
    border: 1px solid var(--md-sys-color-success);
}

.alerta-error { /* tags='error' */
    background-color: var(--md-sys-color-error-container);
    color: var(--md-sys-color-on-error-container);
    border: 1px solid var(--md-sys-color-error);
}

.alerta-warning { /* tags='warning' */
    background-color: var(--md-sys-color-warning-container); 
    color: var(--md-sys-color-on-warning-container);
    border: 1px solid var(--md-sys-color-warning);
}

.alerta-info { /* tags='info' o default */
    background-color: var(--md-sys-color-info-container); 
    color: var(--md-sys-color-on-info-container);
    border: 1px solid var(--md-sys-color-info);
}


================================================
FILE: App_Home/static/css/material-theme/dark-hc.css
================================================
.dark-high-contrast {
  --md-sys-color-primary: rgb(193 250 255);
  --md-sys-color-surface-tint: rgb(128 212 219);
  --md-sys-color-on-primary: rgb(0 0 0);
  --md-sys-color-primary-container: rgb(124 208 215);
  --md-sys-color-on-primary-container: rgb(0 14 15);
  --md-sys-color-secondary: rgb(239 238 255);
  --md-sys-color-on-secondary: rgb(0 0 0);
  --md-sys-color-secondary-container: rgb(182 191 253);
  --md-sys-color-on-secondary-container: rgb(0 5 50);
  --md-sys-color-tertiary: rgb(205 247 255);
  --md-sys-color-on-tertiary: rgb(0 0 0);
  --md-sys-color-tertiary-container: rgb(126 207 220);
  --md-sys-color-on-tertiary-container: rgb(0 14 16);
  --md-sys-color-error: rgb(255 236 233);
  --md-sys-color-on-error: rgb(0 0 0);
  --md-sys-color-error-container: rgb(255 174 161);
  --md-sys-color-on-error-container: rgb(34 0 0);
  --md-sys-color-background: rgb(14 20 21);
  --md-sys-color-on-background: rgb(221 228 228);
  --md-sys-color-surface: rgb(14 20 21);
  --md-sys-color-on-surface: rgb(255 255 255);
  --md-sys-color-surface-variant: rgb(63 72 74);
  --md-sys-color-on-surface-variant: rgb(255 255 255);
  --md-sys-color-outline: rgb(232 242 243);
  --md-sys-color-outline-variant: rgb(187 196 198);
  --md-sys-color-shadow: rgb(0 0 0);
  --md-sys-color-scrim: rgb(0 0 0);
  --md-sys-color-inverse-surface: rgb(222 227 229);
  --md-sys-color-inverse-on-surface: rgb(0 0 0);
  --md-sys-color-inverse-primary: rgb(0 80 85);
  --md-sys-color-primary-fixed: rgb(157 240 247);
  --md-sys-color-on-primary-fixed: rgb(0 0 0);
  --md-sys-color-primary-fixed-dim: rgb(128 212 219);
  --md-sys-color-on-primary-fixed-variant: rgb(0 20 22);
  --md-sys-color-secondary-fixed: rgb(222 224 255);
  --md-sys-color-on-secondary-fixed: rgb(0 0 0);
  --md-sys-color-secondary-fixed-dim: rgb(186 195 255);
  --md-sys-color-on-secondary-fixed-variant: rgb(0 9 65);
  --md-sys-color-tertiary-fixed: rgb(158 239 253);
  --md-sys-color-on-tertiary-fixed: rgb(0 0 0);
  --md-sys-color-tertiary-fixed-dim: rgb(130 211 224);
  --md-sys-color-on-tertiary-fixed-variant: rgb(0 20 23);
  --md-sys-color-surface-dim: rgb(14 20 21);
  --md-sys-color-surface-bright: rgb(75 81 82);
  --md-sys-color-surface-container-lowest: rgb(0 0 0);
  --md-sys-color-surface-container-low: rgb(27 33 34);
  --md-sys-color-surface-container: rgb(43 49 51);
  --md-sys-color-surface-container-high: rgb(54 60 62);
  --md-sys-color-surface-container-highest: rgb(66 72 73);
}



================================================
FILE: App_Home/static/css/material-theme/dark-mc.css
================================================
.dark-medium-contrast {
  --md-sys-color-primary: rgb(150 234 241);
  --md-sys-color-surface-tint: rgb(128 212 219);
  --md-sys-color-on-primary: rgb(0 43 46);
  --md-sys-color-primary-container: rgb(71 157 164);
  --md-sys-color-on-primary-container: rgb(0 0 0);
  --md-sys-color-secondary: rgb(214 218 255);
  --md-sys-color-on-secondary: rgb(23 33 85);
  --md-sys-color-secondary-container: rgb(132 141 200);
  --md-sys-color-on-secondary-container: rgb(0 0 0);
  --md-sys-color-tertiary: rgb(152 233 247);
  --md-sys-color-on-tertiary: rgb(0 42 48);
  --md-sys-color-tertiary-container: rgb(73 156 169);
  --md-sys-color-on-tertiary-container: rgb(0 0 0);
  --md-sys-color-error: rgb(255 210 203);
  --md-sys-color-on-error: rgb(72 20 13);
  --md-sys-color-error-container: rgb(204 123 111);
  --md-sys-color-on-error-container: rgb(0 0 0);
  --md-sys-color-background: rgb(14 20 21);
  --md-sys-color-on-background: rgb(221 228 228);
  --md-sys-color-surface: rgb(14 20 21);
  --md-sys-color-on-surface: rgb(255 255 255);
  --md-sys-color-surface-variant: rgb(63 72 74);
  --md-sys-color-on-surface-variant: rgb(212 222 224);
  --md-sys-color-outline: rgb(170 180 181);
  --md-sys-color-outline-variant: rgb(136 146 148);
  --md-sys-color-shadow: rgb(0 0 0);
  --md-sys-color-scrim: rgb(0 0 0);
  --md-sys-color-inverse-surface: rgb(222 227 229);
  --md-sys-color-inverse-on-surface: rgb(37 43 44);
  --md-sys-color-inverse-primary: rgb(0 80 85);
  --md-sys-color-primary-fixed: rgb(157 240 247);
  --md-sys-color-on-primary-fixed: rgb(0 20 22);
  --md-sys-color-primary-fixed-dim: rgb(128 212 219);
  --md-sys-color-on-primary-fixed-variant: rgb(0 61 65);
  --md-sys-color-secondary-fixed: rgb(222 224 255);
  --md-sys-color-on-secondary-fixed: rgb(0 9 65);
  --md-sys-color-secondary-fixed-dim: rgb(186 195 255);
  --md-sys-color-on-secondary-fixed-variant: rgb(40 50 103);
  --md-sys-color-tertiary-fixed: rgb(158 239 253);
  --md-sys-color-on-tertiary-fixed: rgb(0 20 23);
  --md-sys-color-tertiary-fixed-dim: rgb(130 211 224);
  --md-sys-color-on-tertiary-fixed-variant: rgb(0 60 68);
  --md-sys-color-surface-dim: rgb(14 20 21);
  --md-sys-color-surface-bright: rgb(63 70 71);
  --md-sys-color-surface-container-lowest: rgb(4 8 9);
  --md-sys-color-surface-container-low: rgb(25 31 32);
  --md-sys-color-surface-container: rgb(35 41 42);
  --md-sys-color-surface-container-high: rgb(45 52 53);
  --md-sys-color-surface-container-highest: rgb(57 63 64);
}



================================================
FILE: App_Home/static/css/material-theme/dark.css
================================================
.dark {
  --md-sys-color-primary: rgb(128 212 219);
  --md-sys-color-surface-tint: rgb(128 212 219);
  --md-sys-color-on-primary: rgb(0 54 58);
  --md-sys-color-primary-container: rgb(0 79 84);
  --md-sys-color-on-primary-container: rgb(157 240 247);
  --md-sys-color-secondary: rgb(186 195 255);
  --md-sys-color-on-secondary: rgb(34 44 97);
  --md-sys-color-secondary-container: rgb(57 67 121);
  --md-sys-color-on-secondary-container: rgb(222 224 255);
  --md-sys-color-tertiary: rgb(130 211 224);
  --md-sys-color-on-tertiary: rgb(0 54 61);
  --md-sys-color-tertiary-container: rgb(0 79 88);
  --md-sys-color-on-tertiary-container: rgb(158 239 253);
  --md-sys-color-error: rgb(255 180 168);
  --md-sys-color-on-error: rgb(86 30 22);
  --md-sys-color-error-container: rgb(115 52 42);
  --md-sys-color-on-error-container: rgb(255 218 212);
  --md-sys-color-background: rgb(14 20 21);
  --md-sys-color-on-background: rgb(221 228 228);
  --md-sys-color-surface: rgb(14 20 21);
  --md-sys-color-on-surface: rgb(222 227 229);
  --md-sys-color-surface-variant: rgb(63 72 74);
  --md-sys-color-on-surface-variant: rgb(191 200 202);
  --md-sys-color-outline: rgb(137 146 148);
  --md-sys-color-outline-variant: rgb(63 72 74);
  --md-sys-color-shadow: rgb(0 0 0);
  --md-sys-color-scrim: rgb(0 0 0);
  --md-sys-color-inverse-surface: rgb(222 227 229);
  --md-sys-color-inverse-on-surface: rgb(43 49 51);
  --md-sys-color-inverse-primary: rgb(0 105 111);
  --md-sys-color-primary-fixed: rgb(157 240 247);
  --md-sys-color-on-primary-fixed: rgb(0 32 34);
  --md-sys-color-primary-fixed-dim: rgb(128 212 219);
  --md-sys-color-on-primary-fixed-variant: rgb(0 79 84);
  --md-sys-color-secondary-fixed: rgb(222 224 255);
  --md-sys-color-on-secondary-fixed: rgb(11 21 75);
  --md-sys-color-secondary-fixed-dim: rgb(186 195 255);
  --md-sys-color-on-secondary-fixed-variant: rgb(57 67 121);
  --md-sys-color-tertiary-fixed: rgb(158 239 253);
  --md-sys-color-on-tertiary-fixed: rgb(0 31 36);
  --md-sys-color-tertiary-fixed-dim: rgb(130 211 224);
  --md-sys-color-on-tertiary-fixed-variant: rgb(0 79 88);
  --md-sys-color-surface-dim: rgb(14 20 21);
  --md-sys-color-surface-bright: rgb(52 58 59);
  --md-sys-color-surface-container-lowest: rgb(9 15 16);
  --md-sys-color-surface-container-low: rgb(23 29 30);
  --md-sys-color-surface-container: rgb(27 33 34);
  --md-sys-color-surface-container-high: rgb(37 43 44);
  --md-sys-color-surface-container-highest: rgb(48 54 55);
}



================================================
FILE: App_Home/static/css/material-theme/light-hc.css
================================================
.light-high-contrast {
  --md-sys-color-primary: rgb(0 50 53);
  --md-sys-color-surface-tint: rgb(0 105 111);
  --md-sys-color-on-primary: rgb(255 255 255);
  --md-sys-color-primary-container: rgb(0 82 87);
  --md-sys-color-on-primary-container: rgb(255 255 255);
  --md-sys-color-secondary: rgb(30 39 92);
  --md-sys-color-on-secondary: rgb(255 255 255);
  --md-sys-color-secondary-container: rgb(60 69 123);
  --md-sys-color-on-secondary-container: rgb(255 255 255);
  --md-sys-color-tertiary: rgb(0 50 56);
  --md-sys-color-on-tertiary: rgb(255 255 255);
  --md-sys-color-tertiary-container: rgb(0 81 90);
  --md-sys-color-on-tertiary-container: rgb(255 255 255);
  --md-sys-color-error: rgb(81 26 19);
  --md-sys-color-on-error: rgb(255 255 255);
  --md-sys-color-error-container: rgb(118 54 45);
  --md-sys-color-on-error-container: rgb(255 255 255);
  --md-sys-color-background: rgb(244 250 251);
  --md-sys-color-on-background: rgb(22 29 29);
  --md-sys-color-surface: rgb(245 250 251);
  --md-sys-color-on-surface: rgb(0 0 0);
  --md-sys-color-surface-variant: rgb(219 228 230);
  --md-sys-color-on-surface-variant: rgb(0 0 0);
  --md-sys-color-outline: rgb(37 46 47);
  --md-sys-color-outline-variant: rgb(65 75 76);
  --md-sys-color-shadow: rgb(0 0 0);
  --md-sys-color-scrim: rgb(0 0 0);
  --md-sys-color-inverse-surface: rgb(43 49 51);
  --md-sys-color-inverse-on-surface: rgb(255 255 255);
  --md-sys-color-inverse-primary: rgb(128 212 219);
  --md-sys-color-primary-fixed: rgb(0 82 87);
  --md-sys-color-on-primary-fixed: rgb(255 255 255);
  --md-sys-color-primary-fixed-dim: rgb(0 57 61);
  --md-sys-color-on-primary-fixed-variant: rgb(255 255 255);
  --md-sys-color-secondary-fixed: rgb(60 69 123);
  --md-sys-color-on-secondary-fixed: rgb(255 255 255);
  --md-sys-color-secondary-fixed-dim: rgb(37 46 99);
  --md-sys-color-on-secondary-fixed-variant: rgb(255 255 255);
  --md-sys-color-tertiary-fixed: rgb(0 81 90);
  --md-sys-color-on-tertiary-fixed: rgb(255 255 255);
  --md-sys-color-tertiary-fixed-dim: rgb(0 57 63);
  --md-sys-color-on-tertiary-fixed-variant: rgb(255 255 255);
  --md-sys-color-surface-dim: rgb(180 186 187);
  --md-sys-color-surface-bright: rgb(245 250 251);
  --md-sys-color-surface-container-lowest: rgb(255 255 255);
  --md-sys-color-surface-container-low: rgb(236 242 243);
  --md-sys-color-surface-container: rgb(222 227 229);
  --md-sys-color-surface-container-high: rgb(207 213 214);
  --md-sys-color-surface-container-highest: rgb(194 199 201);
}



================================================
FILE: App_Home/static/css/material-theme/light-mc.css
================================================
.light-medium-contrast {
  --md-sys-color-primary: rgb(0 61 65);
  --md-sys-color-surface-tint: rgb(0 105 111);
  --md-sys-color-on-primary: rgb(255 255 255);
  --md-sys-color-primary-container: rgb(22 121 127);
  --md-sys-color-on-primary-container: rgb(255 255 255);
  --md-sys-color-secondary: rgb(40 50 103);
  --md-sys-color-on-secondary: rgb(255 255 255);
  --md-sys-color-secondary-container: rgb(96 105 162);
  --md-sys-color-on-secondary-container: rgb(255 255 255);
  --md-sys-color-tertiary: rgb(0 60 68);
  --md-sys-color-on-tertiary: rgb(255 255 255);
  --md-sys-color-tertiary-container: rgb(24 120 132);
  --md-sys-color-on-tertiary-container: rgb(255 255 255);
  --md-sys-color-error: rgb(94 36 28);
  --md-sys-color-on-error: rgb(255 255 255);
  --md-sys-color-error-container: rgb(161 89 77);
  --md-sys-color-on-error-container: rgb(255 255 255);
  --md-sys-color-background: rgb(244 250 251);
  --md-sys-color-on-background: rgb(22 29 29);
  --md-sys-color-surface: rgb(245 250 251);
  --md-sys-color-on-surface: rgb(12 18 19);
  --md-sys-color-surface-variant: rgb(219 228 230);
  --md-sys-color-on-surface-variant: rgb(47 56 57);
  --md-sys-color-outline: rgb(75 84 86);
  --md-sys-color-outline-variant: rgb(101 111 112);
  --md-sys-color-shadow: rgb(0 0 0);
  --md-sys-color-scrim: rgb(0 0 0);
  --md-sys-color-inverse-surface: rgb(43 49 51);
  --md-sys-color-inverse-on-surface: rgb(236 242 243);
  --md-sys-color-inverse-primary: rgb(128 212 219);
  --md-sys-color-primary-fixed: rgb(22 121 127);
  --md-sys-color-on-primary-fixed: rgb(255 255 255);
  --md-sys-color-primary-fixed-dim: rgb(0 94 100);
  --md-sys-color-on-primary-fixed-variant: rgb(255 255 255);
  --md-sys-color-secondary-fixed: rgb(96 105 162);
  --md-sys-color-on-secondary-fixed: rgb(255 255 255);
  --md-sys-color-secondary-fixed-dim: rgb(71 81 136);
  --md-sys-color-on-secondary-fixed-variant: rgb(255 255 255);
  --md-sys-color-tertiary-fixed: rgb(24 120 132);
  --md-sys-color-on-tertiary-fixed: rgb(255 255 255);
  --md-sys-color-tertiary-fixed-dim: rgb(0 94 104);
  --md-sys-color-on-tertiary-fixed-variant: rgb(255 255 255);
  --md-sys-color-surface-dim: rgb(194 199 201);
  --md-sys-color-surface-bright: rgb(245 250 251);
  --md-sys-color-surface-container-lowest: rgb(255 255 255);
  --md-sys-color-surface-container-low: rgb(239 245 246);
  --md-sys-color-surface-container: rgb(227 233 234);
  --md-sys-color-surface-container-high: rgb(216 222 223);
  --md-sys-color-surface-container-highest: rgb(205 211 212);
}



================================================
FILE: App_Home/static/css/material-theme/light.css
================================================
.light {
  --md-sys-color-primary: rgb(0 105 111);
  --md-sys-color-surface-tint: rgb(0 105 111);
  --md-sys-color-on-primary: rgb(255 255 255);
  --md-sys-color-primary-container: rgb(157 240 247);
  --md-sys-color-on-primary-container: rgb(0 79 84);
  --md-sys-color-secondary: rgb(81 91 146);
  --md-sys-color-on-secondary: rgb(255 255 255);
  --md-sys-color-secondary-container: rgb(222 224 255);
  --md-sys-color-on-secondary-container: rgb(57 67 121);
  --md-sys-color-tertiary: rgb(0 104 116);
  --md-sys-color-on-tertiary: rgb(255 255 255);
  --md-sys-color-tertiary-container: rgb(158 239 253);
  --md-sys-color-on-tertiary-container: rgb(0 79 88);
  --md-sys-color-error: rgb(144 75 64);
  --md-sys-color-on-error: rgb(255 255 255);
  --md-sys-color-error-container: rgb(255 218 212);
  --md-sys-color-on-error-container: rgb(115 52 42);
  --md-sys-color-background: rgb(244 250 251);
  --md-sys-color-on-background: rgb(22 29 29);
  --md-sys-color-surface: rgb(245 250 251);
  --md-sys-color-on-surface: rgb(23 29 30);
  --md-sys-color-surface-variant: rgb(219 228 230);
  --md-sys-color-on-surface-variant: rgb(63 72 74);
  --md-sys-color-outline: rgb(111 121 122);
  --md-sys-color-outline-variant: rgb(191 200 202);
  --md-sys-color-shadow: rgb(0 0 0);
  --md-sys-color-scrim: rgb(0 0 0);
  --md-sys-color-inverse-surface: rgb(43 49 51);
  --md-sys-color-inverse-on-surface: rgb(236 242 243);
  --md-sys-color-inverse-primary: rgb(128 212 219);
  --md-sys-color-primary-fixed: rgb(157 240 247);
  --md-sys-color-on-primary-fixed: rgb(0 32 34);
  --md-sys-color-primary-fixed-dim: rgb(128 212 219);
  --md-sys-color-on-primary-fixed-variant: rgb(0 79 84);
  --md-sys-color-secondary-fixed: rgb(222 224 255);
  --md-sys-color-on-secondary-fixed: rgb(11 21 75);
  --md-sys-color-secondary-fixed-dim: rgb(186 195 255);
  --md-sys-color-on-secondary-fixed-variant: rgb(57 67 121);
  --md-sys-color-tertiary-fixed: rgb(158 239 253);
  --md-sys-color-on-tertiary-fixed: rgb(0 31 36);
  --md-sys-color-tertiary-fixed-dim: rgb(130 211 224);
  --md-sys-color-on-tertiary-fixed-variant: rgb(0 79 88);
  --md-sys-color-surface-dim: rgb(213 219 220);
  --md-sys-color-surface-bright: rgb(245 250 251);
  --md-sys-color-surface-container-lowest: rgb(255 255 255);
  --md-sys-color-surface-container-low: rgb(239 245 246);
  --md-sys-color-surface-container: rgb(233 239 240);
  --md-sys-color-surface-container-high: rgb(227 233 234);
  --md-sys-color-surface-container-highest: rgb(222 227 229);
}



================================================
FILE: App_Home/static/js/scripts-HD.js
================================================
function toggleDropdown() {
    var content = document.getElementById("adminDropdownContent");
    var btn = document.getElementById("adminDropdownBtn");
    
    // 1. Cierra todos los dropdowns abiertos primero y remueve el estado 'active' del botÃ³n
    document.querySelectorAll('.dropdown-content.show').forEach(function(el) {
        if (el !== content) {
            el.classList.remove('show');
            el.style.height = '0'; // Cierra con animaciÃ³n
            // Busca el botÃ³n asociado para remover la clase 'active'
            const parentDropdown = el.closest('.dropdown');
            if (parentDropdown) {
                const associatedBtn = parentDropdown.querySelector('.dropbtn');
                if (associatedBtn) {
                    associatedBtn.classList.remove('active');
                }
            }
        }
    });

    // 2. Toggle del dropdown actual
    if (content.classList.contains('show')) {
        // Ocultar: Remueve las clases y pone la altura a 0
        content.classList.remove('show');
        content.style.height = '0';
        btn.classList.remove('active');
    } else {
        // Mostrar: AÃ±ade clases, calcula la altura y activa el botÃ³n
        content.classList.add('show');
        // Calcula la altura para que la animaciÃ³n funcione correctamente
        content.style.height = content.scrollHeight + 'px'; 
        btn.classList.add('active');
    }
}

// Opcional: Cerrar el menÃº si se hace clic fuera de Ã©l
window.onclick = function(event) {
    // CAMBIO: Se asegura que si se hace clic fuera, todos los dropdowns se cierren
    if (!event.target.matches('.dropbtn') && !event.target.matches('.dropbtn i')) {
        document.querySelectorAll('.dropdown-content.show').forEach(function(content) {
            content.classList.remove("show");
            content.style.height = '0';
            
            // Busca el botÃ³n asociado para remover la clase 'active'
            const parentDropdown = content.closest('.dropdown');
            if (parentDropdown) {
                const associatedBtn = parentDropdown.querySelector('.dropbtn');
                if (associatedBtn) {
                    associatedBtn.classList.remove('active');
                }
            }
        });
    }
}


================================================
FILE: App_Home/static/js/scripts-login.js
================================================
const container = document.querySelector(".container");
const registerBtn = document.querySelector(".register-btn");
const loginBtn = document.querySelector(".login-btn");

registerBtn.addEventListener("click", () => {
    container.classList.add("active");
});

loginBtn.addEventListener("click", () => {
    container.classList.remove("active");
});


================================================
FILE: App_Home/templates/completar_perfil.html
================================================
{% extends 'layouts/base.html' %}
{% load static %}

{% block content %}
<div class="perfil-container-wrapper"> 
    <div class="perfil-container"> 
        <h1>Completar Datos de Perfil</h1>
        <p>Casi terminas el registro, **{{ usuario.username }}**. Por favor, proporciona tus datos completos.</p>
        
        <form method="POST">
            {% csrf_token %}
            
            <h2>InformaciÃ³n Personal</h2>
            
            <div class="form-row"> 
                <div class="form-group">
                    {{ formulario.first_name.label_tag }}
                    {{ formulario.first_name }}
                    {{ formulario.first_name.errors }}
                </div>
                <div class="form-group">
                    {{ formulario.last_name.label_tag }}
                    {{ formulario.last_name }}
                    {{ formulario.last_name.errors }}
                </div>
            </div>

            <div class="form-group">
                {{ formulario.cedula.label_tag }}
                {{ formulario.cedula }}
                {{ formulario.cedula.errors }}
            </div>

            <h2>AsignaciÃ³n de Rol</h2>
            <div class="form-group">
                {{ formulario.rol.label_tag }}
                {{ formulario.rol }}
                {{ formulario.rol.errors }}
            </div>
            <div class="form-group">
                {{ formulario.tower.label_tag }}
                {{ formulario.tower }}
                {{ formulario.tower.errors }}
            </div>

            <h2>Optar por Roles Secundarios (Opcional)</h2>
            <p class="text-muted">Marca si deseas colaborar con roles de gestiÃ³n especÃ­ficos.</p>
            <div class="checkbox-group">
                <div class="form-check">
                    {{ formulario.es_admin_basura }} {{ formulario.es_admin_basura.label_tag }}
                </div>
                <div class="form-check">
                    {{ formulario.es_admin_clap }} {{ formulario.es_admin_clap.label_tag }}
                </div>
                <div class="form-check">
                    {{ formulario.es_admin_bombonas }} {{ formulario.es_admin_bombonas.label_tag }}
                </div>
            </div>

            <button type="submit" class="btn mt-4">Guardar y Acceder</button>

            <a href="{% url 'url_cancelar_registro' user_id=usuario.id %}" 
                class="btn btn-danger-outline"
                style="flex: 1; text-align: center; text-decoration: none; background-color: transparent; border: 2px solid var(--md-sys-color-error); color: var(--md-sys-color-error);"
                onclick="return confirm('Â¿EstÃ¡s seguro de cancelar el registro? Tu cuenta creada serÃ¡ eliminada permanentemente.');">
                Cancelar
            </a>
        </form>
    </div>
</div>
{% endblock content %}


================================================
FILE: App_Home/templates/homeDashboard.html
================================================
{% extends 'layouts/base.html' %}
{% load static %}
{% block content %}

<div class="dashboard-container">
    <header class="dashboard-header">
        <h1>Balcones de Paraguana I</h1>
        
        {% if request.user.is_authenticated %}
            <p class="user-info">
                Bienvenido, **{{ request.user.username }}** | 
                {% if request.user.rol == 'LDG' %}
                    **Rol: LÃ­der General**
                {% elif request.user.rol == 'LDT' and request.user.tower %}
                    **LÃ­der de la Torre {{ request.user.tower.nombre }}**
                {% else %}\
                    **LÃ­der (Pendiente de AsignaciÃ³n)**
                {% endif %}
            </p>
        {% else %}
            <p class="user-info">Modo Espectador</p>
        {% endif %}
    </header>

    <main class="botones-grid">
        
        <div class="dropdown">
            <button class="boton-principal dropbtn" id="adminDropdownBtn" onclick="toggleDropdown()">
                <i class="fas fa-chart-line"></i>
                AdministraciÃ³n de Ingresos y Egresos
            </button>
            <div class="dropdown-content" id="adminDropdownContent">
                <a href="{% url 'ver_finanzas' categoria_slug='condominio' %}">Condominio</a>
                <a href="{% url 'ver_finanzas' categoria_slug='basura' %}">Cuarto de Basura</a>
            </div>
        </div>

        <a href="{% url 'ver_beneficio' tipo_slug='clap' %}" class="boton-principal">
            <i class="fas fa-shopping-bag"></i>
            Bolsa Clap
        </a>

        <a href="{% url 'ver_beneficio' tipo_slug='gas' %}" class="boton-principal">
            <i class="fas fa-fire"></i>
            Bombona
        </a>

        <a href="{% url 'solicitar_documento' %}" class="boton-principal">
            <i class="fas fa-file-alt"></i>
            Solicitar Documentos
        </a>

        {% if request.user.is_authenticated and request.user.rol == 'LDG' %}
            <a href="{% url 'lider_general:lista_solicitudes' %}" class="boton-principal">
                <i class="fas fa-tasks"></i>
                GestiÃ³n de Solicitudes
            </a>
        {% endif %}
        
        {% if request.user.is_authenticated and request.user.rol == 'LDT' or request.user.is_authenticated and request.user.rol == 'LDG' %}
            {% if request.user.is_authenticated %}

                {# Caso 1: LÃ­der General -> Va a su App General #}
                {% if request.user.rol == 'LDG' %}
                    <a href="{% url 'lider_general:censo_lista' %}" class="boton-principal">
                        <i class="fas fa-users"></i>
                        Censo General
                    </a>
                
                {# Caso 2: LÃ­der Torre -> Va a su App Torre #}
                {% elif request.user.rol == 'LDT' and request.user.tower %}
                    <a href="{% url 'lider_torre:censo_lista' %}" class="boton-principal">
                        <i class="fas fa-house-user"></i>
                        Censo Torre {{ request.user.tower.nombre }}
                    </a>

                {% endif %}

            {% endif %}
        {% endif %}

        {% if request.user.is_authenticated and request.user.rol == 'LDG' %}
            <a href="{% url 'lider_general:lista_usuarios' %}" class="boton-principal">
                <i class="fas fa-user-cog"></i>
                GestiÃ³n de Usuarios
            </a>
        {% endif %}


        {% if request.user.is_authenticated %}
            <a href="{% url 'url_logout' %}" class="boton-principal logout-button">
                <i class="fas fa-sign-out-alt"></i>
                Cerrar SesiÃ³n
            </a>
        {% else %}
            <a href="{% url 'url_login' %}" class="boton-principal">
                <i class="fas fa-sign-in-alt"></i>
                Iniciar SesiÃ³n
            </a>
        {% endif %}
    </main>
</div>
{% endblock content %}


================================================
FILE: App_Home/templates/login.html
================================================
{% extends 'layouts/base.html' %}
{% load static %}

{% block content %}

<div class="container" id="container">
    
    <div class="form-box login">
        <form method="POST" action="{% url 'url_login' %}">
            {% csrf_token %} 
            <h1>Login</h1>
            
            <div class="input-box">
                <input type="text" placeholder="Username" required name="username">
                <i class="bx bxs-user"></i>
            </div>
            <div class="input-box">
                <input type="password" placeholder="Password" required name="password">
                <i class="bx bxs-lock-alt"></i>
            </div>
            
            <div class="forgot-link">
                <a href="#">Forgot Password?</a>
            </div>
            
            <button type="submit" class="btn">Login</button>
            <div class="back-link-container"> 
                <a href="{% url 'url_dashboard' %}">Volver al Inicio</a>
            </div>
        </form>
    </div>

    
    <div class="form-box register">
        <form method="POST" action="{% url 'url_registro' %}">
            {% csrf_token %}
            <h1>Registration</h1>
            
            <div class="input-box">
                <input type="text" placeholder="Username" required name="username">
                <i class="bx bxs-user"></i>
            </div>
            <div class="input-box">
                <input type="email" placeholder="Email" required name="email">
                <i class="bx bxs-envelope"></i>
            </div>
            <div class="input-box">
                <input type="password" placeholder="Password" required name="password1">
                <i class="bx bxs-lock-alt"></i>
            </div>
            <div class="input-box">
                <input type="password" placeholder="Confirmar Password" required name="password2">
                <i class="bx bxs-lock-alt"></i>
            </div>
            <button type="submit" class="btn">Register</button>
        </form>
    </div>

    <div class="toggle-box">
        <div class="toggle-panel toggle-left">
            <h1>Hello, Welcome!</h1>
            <p>Don't have an account?</p>
            <button class="btn register-btn">Register</button>
        </div>
        <div class="toggle-panel toggle-right">
            <h1>Welcome Back!</h1>
            <p>Already have an account?</p>
            <button class="btn login-btn">Login</button>
        </div>
    </div>
    
</div>

{% endblock content %}


================================================
FILE: App_Home/templates/beneficios/lista_beneficio.html
================================================
{% extends 'layouts/navbar.html' %}
{% load static %}

{% block title %}Listado de Beneficio - {{ titulo }}{% endblock %}

{% block content %}
<div class="dashboard-container">
    
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>
            {% if tipo_slug == 'clap' %}
                <i class="fas fa-shopping-bag text-warning"></i>
            {% else %}
                <i class="fas fa-fire text-danger"></i>
            {% endif %}
            GestiÃ³n de {{ titulo }}
        </h2>
        <a href="{% url 'url_dashboard' %}" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Volver al Inicio
        </a>
    </div>

    {% if messages %}
        <div class="mensajes-django-container mb-3">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <hr>

    <div class="card mb-4 border-0 shadow-sm" style="background-color: var(--md-sys-color-surface-container-low);">
        <div class="card-body">
            {% if ciclo %}
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h4 class="text-success mb-1">
                            <i class="fas fa-check-circle"></i> Lista Activa: <strong>{{ ciclo.nombre }}</strong>
                        </h4>
                        <small class="text-muted">Fecha de Apertura: {{ ciclo.fecha_apertura|date:"d/m/Y" }}</small>
                    </div>
                    
                    <div class="col-md-4 text-end d-flex gap-2 justify-content-end flex-wrap">
                        
                        <a href="{% url 'pdf_beneficio' ciclo.id %}" class="btn btn-danger btn-sm" target="_blank">
                            <i class="fas fa-file-pdf"></i> Descargar Lista
                        </a>

                        {% if es_admin %}
                            <form action="{% url 'lider_general:eliminar_ciclo' ciclo.id %}" method="POST" onsubmit="return confirm('Â¿EstÃ¡s seguro de cerrar y eliminar esta lista? Esta acciÃ³n es irreversible.');">
                                {% csrf_token %}
                                <button type="submit" class="btn btn-outline-danger btn-sm">
                                    <i class="fas fa-trash-alt"></i> Cerrar Lista
                                </button>
                            </form>
                        {% endif %}
                    </div>
                </div>

            {% else %}
                <div class="text-center py-3">
                    <h4 class="text-muted"><i class="fas fa-calendar-times"></i> No hay una lista de {{ titulo }} activa actualmente.</h4>
                    
                    {% if es_admin %}
                        <div class="mt-3 p-3 bg-white rounded border" style="max-width: 500px; margin: 0 auto;">
                            <h5 class="mb-3 text-primary">Abrir Nuevo Ciclo</h5>
                            <form action="{% url 'lider_general:crear_ciclo' %}" method="POST" class="d-flex gap-2">
                                {% csrf_token %}
                                <input type="hidden" name="tipo" value="{{ tipo_db }}">
                                <input type="text" name="nombre" class="form-control" placeholder="Ej: Noviembre 2024" required>
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-plus-circle"></i> Crear
                                </button>
                            </form>
                        </div>
                    {% else %}
                        <p class="mt-2">Espere a que el administrador habilite el nuevo listado.</p>
                    {% endif %}
                </div>
            {% endif %}
        </div>
    </div>

    {% if ciclo %}
        
        <div class="row g-3 mb-4">
            <div class="col-md-6">
                <form method="GET" class="d-flex">
                    <input type="text" name="q" class="form-control me-2" placeholder="Buscar por CÃ©dula o Nombre..." value="{{ busqueda }}">
                    <button type="submit" class="btn btn-primary"><i class="fas fa-search"></i></button>
                    {% if busqueda %}
                        <a href="{% url 'ver_beneficio' tipo_slug %}" class="btn btn-outline-secondary ms-2" title="Limpiar"><i class="fas fa-times"></i></a>
                    {% endif %}
                </form>
            </div>

            <div class="col-md-6 text-md-end">
                
                {% if request.user.rol == 'LDT' and request.user.tower %}
                    <a href="{% url 'lider_torre:agregar_vecinos' tipo_slug=tipo_slug %}" class="btn btn-success">
                        <i class="fas fa-user-plus"></i> Agregar Vecinos (Torre {{ request.user.tower.nombre }})
                    </a>
                {% endif %}

                {% if request.user.rol == 'LDG' %}
                    <a href="{% url 'lider_general:agregar_beneficiario_global' tipo_slug=tipo_slug %}" class="btn btn-primary">
                        <i class="fas fa-plus"></i> Agregar Personas
                    </a>
                {% endif %}
            </div>
        </div>

        <div class="table-responsive bg-white rounded shadow-sm">
            <table class="table table-striped table-hover align-middle mb-0">
                <thead class="table-dark">
                    <tr>
                        <th>Torre</th>
                        <th>Apto</th>
                        <th>CÃ©dula</th>
                        <th>Beneficiario</th>
                        <th>Rol Familiar</th>
                        <th>Agregado Por</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entrega in beneficiarios %}
                    <tr>
                        <td><span class="badge bg-secondary">{{ entrega.beneficiario.tower.nombre }}</span></td>
                        <td>{{ entrega.beneficiario.apartamento_completo }}</td>
                        
                        <td class="fw-bold font-monospace">{{ entrega.beneficiario.cedula }}</td>
                        <td>{{ entrega.beneficiario.nombres }} {{ entrega.beneficiario.apellidos }}</td>
                        
                        <td>
                            {% if entrega.beneficiario.es_jefe_familia %}
                                <span class="badge bg-primary">Jefe de Familia</span>
                            {% else %}
                                <span class="text-muted small">Miembro</span>
                            {% endif %}
                        </td>

                        <td class="small text-muted">
                            {% if entrega.agregado_por %}
                                {{ entrega.agregado_por.username }}
                            {% else %}
                                -
                            {% endif %}
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="6" class="text-center py-5 text-muted">
                            <i class="fas fa-users-slash fa-3x mb-3"></i>
                            <p class="fs-5">No se encontraron beneficiarios en la lista.</p>
                            {% if busqueda %}
                                <p>Intenta con otra bÃºsqueda.</p>
                            {% else %}
                                <p>El ciclo estÃ¡ abierto pero aÃºn no se han cargado personas.</p>
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        
        <div class="mt-2 text-muted small">
            Total Registros: {{ beneficiarios|length }}
        </div>

    {% endif %} </div>

<style>
    /* PequeÃ±os ajustes visuales locales */
    .card {
        border-left: 5px solid var(--md-sys-color-primary);
    }
    .font-monospace {
        font-family: 'Courier New', Courier, monospace;
        letter-spacing: -0.5px;
    }
</style>
{% endblock content %}


================================================
FILE: App_Home/templates/finanzas/listado_movimientos.html
================================================
Error reading file with 'cp1252': 'charmap' codec can't decode byte 0x8d in position 3141: character maps to <undefined>


================================================
FILE: App_Home/templates/layouts/base.html
================================================
Error reading file with 'cp1252': 'charmap' codec can't decode byte 0x8d in position 3034: character maps to <undefined>


================================================
FILE: App_Home/templates/layouts/navbar.html
================================================
{% extends 'layouts/base.html' %} 
{% block navbar %} 
{% load static %}

<!-- Barra de Navegación -->
<nav id="bottom-navbar">
    
    <a href="{% url 'url_dashboard' %}" class="nav-item" title="Inicio">
        <span class="icon">🏠</span>
        <span class="label">Inicio</span>
    </a>
    
    <a href="{% url 'ver_finanzas' categoria_slug='condominio' %}" class="nav-item" title="Condominio">
        <span class="icon">🏢</span>
        <span class="label">Condominio</span>
    </a>
    
    <a href="{% url 'ver_finanzas' categoria_slug='basura' %}" class="nav-item" title="Basura">
        <span class="icon">🗑️</span>
        <span class="label">Basura</span>
    </a>

    <a href="{% url 'ver_beneficio' tipo_slug='clap' %}" class="nav-item" title="CLAP">
        <span class="icon">📦</span>
        <span class="label">CLAP</span>
    </a>

    <a href="{% url 'ver_beneficio' tipo_slug='gas' %}" class="nav-item" title="Bombona">
        <span class="icon">🔥</span>
        <span class="label">Gas</span>
    </a>

    <a href="{% url 'solicitar_documento' %}" class="nav-item" title="Solicitar Documento">
        <span class="icon">📄</span>
        <span class="label">Documentos</span>
    </a>

    {% if request.user.is_authenticated and request.user.rol == 'LDG' %}
        <a href="{% url 'lider_general:lista_solicitudes' %}" class="nav-item" title="Gestión de Solicitudes">
            <span class="icon">🗂️</span>
            <span class="label">Solicitudes</span>
        </a>
    {% endif %}


    {% if request.user.is_authenticated and request.user.rol == 'LDT' or request.user.is_authenticated and request.user.rol == 'LDG' %}
        {% if request.user.is_authenticated %}
            {# Caso 1: Líder General -> Va a su App General #}
            {% if request.user.rol == 'LDG' %}
                <a href="{% url 'lider_general:censo_lista' %}" class="nav-item" title="Censo">
                    <span class="icon">👥</span>
                    <span class="label">Censo</span>
                </a>
            
            {# Caso 2: Líder Torre -> Va a su App Torre #}
            {% elif request.user.rol == 'LDT' and request.user.tower %}
                <a href="{% url 'lider_torre:censo_lista' %}" class="nav-item" title="Censo">
                    <span class="icon">👥</span>
                    <span class="label">Censo</span>
                </a>
            {% endif %}
        {% endif %}
    {% endif %}

    {% if request.user.is_authenticated and request.user.rol == 'LDG' %}
        <a href="{% url 'lider_general:lista_usuarios' %}" class="nav-item" title="Usuarios">
            <span class="icon">👤</span>
            <span class="label">Usuarios</span>
        </a>
    {% endif %}
</nav>


<!-- Contenedor principal del contenido de la página -->
{% block main %} 
{% endblock main %} 

{% endblock navbar %}


================================================
FILE: App_Home/templates/solicitudes/crear_solicitud.html
================================================
{% extends 'layouts/base.html' %} 
{% load static %}
{% block title %}Solicitar Documento{% endblock %}
{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            <div class="card shadow-lg">
                <div class="card-header bg-primary text-white text-center">
                    <h4 class="mb-0">Solicitar Documento Comunitario</h4>
                </div>
                <div class="card-body">
                    <p class="text-muted text-center">
                        Ingresa tu **CÃ©dula de Identidad** y selecciona el tipo de documento. Tu solicitud serÃ¡ enviada al LÃ­der General para su procesamiento.
                    </p>
                    
                    <form method="post" class="mt-4">
                        {% csrf_token %}
                        
                        {# Campos del formulario (cedula y tipo_documento) #}
                        <div class="mb-3">
                            <label for="{{ form.cedula.id_for_label }}" class="form-label fw-bold">{{ form.cedula.label }}</label>
                            {{ form.cedula }}
                            {% if form.cedula.errors %}
                                <div class="text-danger small">{{ form.cedula.errors }}</div>
                            {% endif %}
                        </div>

                        <div class="mb-3">
                            <label for="{{ form.tipo_documento.id_for_label }}" class="form-label fw-bold">{{ form.tipo_documento.label }}</label>
                            {{ form.tipo_documento }}
                            {% if form.tipo_documento.errors %}
                                <div class="text-danger small">{{ form.tipo_documento.errors }}</div>
                            {% endif %}
                        </div>

                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-success btn-lg mt-3">
                                <i class="fas fa-paper-plane"></i> Enviar Solicitud
                            </button>
                            <a href="{% url 'url_dashboard' %}" class="btn btn-outline-secondary">Volver al Inicio</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}


================================================
FILE: App_LiderGeneral/__init__.py
================================================
[Empty file]


================================================
FILE: App_LiderGeneral/admin.py
================================================
from django.contrib import admin

# Register your models here.



================================================
FILE: App_LiderGeneral/apps.py
================================================
from django.apps import AppConfig


class AppLidergeneralConfig(AppConfig):
    default_auto_field = 'django.db.models.BigAutoField'
    name = 'App_LiderGeneral'



================================================
FILE: App_LiderGeneral/forms.py
================================================
Error reading file with 'cp1252': 'charmap' codec can't decode byte 0x8d in position 1781: character maps to <undefined>


================================================
FILE: App_LiderGeneral/models.py
================================================
from django.db import models

# Create your models here.



================================================
FILE: App_LiderGeneral/tests.py
================================================
from django.test import TestCase

# Create your tests here.



================================================
FILE: App_LiderGeneral/urls.py
================================================
# App_LiderGeneral/urls.py

from django.urls import path
from . import views

# Define un 'namespace' para evitar conflictos de nombres de rutas
app_name = 'lider_general'

urlpatterns = [
    # 1. LISTADO DE USUARIOS (RUTA PRINCIPAL)
    path('usuarios/', views.ListaUsuariosView.as_view(), name='lista_usuarios'),
    
    # 2. CREACIÃ“N DE USUARIOS
    path('usuarios/crear/', views.CrearUsuarioView.as_view(), name='crear_usuario'),
    
    # 3. EDICIÃ“N DE USUARIOS
    path('usuarios/editar/<int:pk>/', views.EditarUsuarioView.as_view(), name='editar_usuario'),
    
    # 4. ELIMINACIÃ“N DE USUARIOS
    path('usuarios/eliminar/<int:pk>/', views.EliminarUsuarioView.as_view(), name='eliminar_usuario'),

    # Condominio
    path('condominio/ingresar/', views.RegistrarIngresoCondominioGeneralView.as_view(), name='ingresar_condominio_general'),
    path('condominio/egresar/', views.RegistrarEgresoCondominioGeneralView.as_view(), name='egresar_condominio_general'),
    
    # Cuarto de Basura
    path('basura/ingresar/', views.RegistrarIngresoBasuraGeneralView.as_view(), name='ingresar_basura_general'),
    path('basura/egresar/', views.RegistrarEgresoBasuraGeneralView.as_view(), name='egresar_basura_general'),
    path('basura/estado-solvencia/', views.EstadoSolvenciaBasuraView.as_view(), name='estado_solvencia_basura'),

    # Censo de Miembros
    path('censo/', views.CensoGeneralListView.as_view(), name='censo_lista'),
    path('censo/nuevo/', views.CensoGeneralCreateView.as_view(), name='censo_crear'),
    path('censo/editar/<int:pk>/', views.CensoGeneralUpdateView.as_view(), name='censo_editar'),
    path('censo/eliminar/<int:pk>/', views.CensoGeneralDeleteView.as_view(), name='censo_eliminar'),

    # GestiÃ³n de Ciclos y Beneficios
    path('ciclos/crear/', views.CrearCicloView.as_view(), name='crear_ciclo'),
    path('ciclos/eliminar/<int:pk>/', views.EliminarCicloView.as_view(), name='eliminar_ciclo'),
    path('beneficios/agregar-global/<str:tipo_slug>/', views.AgregarBeneficiarioGeneralView.as_view(), name='agregar_beneficiario_global'),

    # GESTIÃ“N DE SOLICITUDES DE DOCUMENTOS
    path('solicitudes/', views.ListaSolicitudesView.as_view(), name='lista_solicitudes'),
    path('solicitudes/procesar/<int:pk>/', views.ProcesarSolicitudView.as_view(), name='procesar_solicitud'),
]


================================================
FILE: App_LiderGeneral/views.py
================================================
Error reading file with 'cp1252': 'charmap' codec can't decode byte 0x81 in position 22531: character maps to <undefined>


================================================
FILE: App_LiderGeneral/templates/lider_general/agregar_beneficiario_global.html
================================================
{% extends 'layouts/base.html' %}
{% load static %}

{% block title %}Agregar Beneficiarios - {{ titulo }}{% endblock %}

{% block content %}
<div class="dashboard-container">
    
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>
            <i class="fas fa-plus-circle text-primary"></i> Agregar Personas a la Lista ({{ titulo }})
        </h2>
        <a href="{% url 'ver_beneficio' tipo_slug=tipo_slug %}" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Volver a la Lista
        </a>
    </div>

    {% if messages %}
        <div class="mensajes-django-container mb-3">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        </div>
    {% endif %}
    
    <hr>
    
    {% if not ciclo_activo %}
        <div class="alert alert-warning text-center">
            <i class="fas fa-exclamation-triangle fa-2x mb-2"></i>
            <p class="fs-5">No hay un ciclo de beneficio activo ({{ titulo }}) para agregar personas.</p>
            <p>Por favor, crea o activa un ciclo antes de intentar agregar beneficiarios.</p>
        </div>
    {% else %}
        <div class="card mb-4 border-0 shadow-sm p-3" style="background-color: var(--md-sys-color-surface-container-low);">
            <p class="mb-1"><strong>Ciclo Activo:</strong> {{ ciclo_activo.nombre }}</p>
            <p class="mb-1"><strong>Fecha de Apertura:</strong> {{ ciclo_activo.fecha_apertura|date:"d/m/Y" }}</p>
            <p class="mb-0"><strong>Total de Personas Disponibles para Agregar:</strong> <span class="badge bg-success fs-6">{{ miembros_disponibles|length }}</span></p>
        </div>

        <div class="row mb-3">
            <div class="col-md-4">
                <form method="GET" class="d-flex">
                    <select name="torre" id="id_torre_filtro" class="form-select me-2">
                        <option value="">-- Todas las Torres --</option>
                        {% for torre in torres %}
                            <option value="{{ torre.id }}" {% if torre_seleccionada|pluralize == torre.id|pluralize %}selected{% endif %}>
                                Torre {{ torre.nombre }}
                            </option>
                        {% endfor %}
                    </select>
                    <button type="submit" class="btn btn-info"><i class="fas fa-filter"></i> Filtrar</button>
                </form>
            </div>
            <div class="col-md-8 text-md-end">
                <button id="seleccionarTodosBtn" class="btn btn-sm btn-outline-primary me-2">
                    <i class="fas fa-check-square"></i> Seleccionar Todos
                </button>
                <button id="deseleccionarTodosBtn" class="btn btn-sm btn-outline-secondary">
                    <i class="fas fa-square"></i> Deseleccionar Todos
                </button>
            </div>
        </div>

        <form method="POST">
            {% csrf_token %}
            
            <div class="d-grid gap-2 d-md-flex justify-content-md-end mb-4">
                {% if miembros_disponibles %}
                    <button type="submit" class="btn btn-primary btn-lg" id="btnGuardar">
                        <i class="fas fa-save"></i> Agregar {{ miembros_disponibles|length }} Personas Seleccionadas
                    </button>
                {% endif %}
            </div>

            <div class="table-responsive bg-white rounded shadow-sm">
                <table class="table table-striped table-hover align-middle mb-0">
                    <thead class="table-dark">
                        <tr>
                            <th scope="col" style="width: 5%;">#</th>
                            <th scope="col" style="width: 15%;">Torre</th>
                            <th scope="col" style="width: 30%;">Nombre y Apellido</th>
                            <th scope="col" style="width: 15%;">CÃ©dula</th>
                            <th scope="col" style="width: 10%;">Apto</th>
                            <th scope="col" style="width: 10%;">Jefe Fam.</th>
                            <th scope="col" style="width: 15%;">Seleccionar</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for miembro in miembros_disponibles %}
                        <tr>
                            <td>{{ forloop.counter }}</td>
                            <td>{{ miembro.tower.nombre }}</td>
                            <td>{{ miembro.nombres }} {{ miembro.apellidos }}</td>
                            <td>{{ miembro.cedula }}</td>
                            <td>{{ miembro.apartamento_completo }}</td>
                            <td>
                                {% if miembro.es_jefe_familia %}
                                    <span class="badge bg-success">SÃ­</span>
                                {% else %}
                                    <span class="badge bg-secondary">No</span>
                                {% endif %}
                            </td>
                            <td>
                                <div class="form-check">
                                    <input class="form-check-input select-member-checkbox" type="checkbox" name="miembros_ids" value="{{ miembro.id }}" id="miembro-{{ miembro.id }}">
                                    <label class="form-check-label" for="miembro-{{ miembro.id }}">
                                        Agregar
                                    </label>
                                </div>
                            </td>
                        </tr>
                        {% empty %}
                        <tr>
                            <td colspan="7" class="text-center py-5 text-muted">
                                <i class="fas fa-check-double fa-3x mb-3 text-success"></i>
                                <p class="fs-5">Todos los miembros del censo ya han sido agregados al ciclo activo de {{ titulo }}.</p>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

            <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
                {% if miembros_disponibles %}
                    <button type="submit" class="btn btn-primary btn-lg">
                        <i class="fas fa-save"></i> Agregar {{ miembros_disponibles|length }} Personas Seleccionadas
                    </button>
                {% endif %}
            </div>
            
        </form>
    {% endif %}
    
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const selectAllBtn = document.getElementById('seleccionarTodosBtn');
        const deselectAllBtn = document.getElementById('deseleccionarTodosBtn');
        const checkboxes = document.querySelectorAll('.select-member-checkbox');
        const btnGuardar = document.getElementById('btnGuardar');
        
        // FunciÃ³n para actualizar el texto del botÃ³n de guardar
        function updateSubmitButtonText() {
            const selectedCount = document.querySelectorAll('.select-member-checkbox:checked').length;
            const totalCount = checkboxes.length;
            
            if (selectedCount > 0) {
                btnGuardar.textContent = `Agregar ${selectedCount} de ${totalCount} Personas Seleccionadas`;
                btnGuardar.disabled = false;
            } else {
                btnGuardar.textContent = `Agregar ${totalCount} Personas Seleccionadas`;
                btnGuardar.disabled = true; // Deshabilitar si no hay nada seleccionado
            }
        }

        // Inicializar el botÃ³n de guardar
        updateSubmitButtonText();

        selectAllBtn.addEventListener('click', function() {
            checkboxes.forEach(cb => cb.checked = true);
            updateSubmitButtonText();
        });

        deselectAllBtn.addEventListener('click', function() {
            checkboxes.forEach(cb => cb.checked = false);
            updateSubmitButtonText();
        });

        // Escuchar cambios en los checkboxes individuales
        checkboxes.forEach(cb => {
            cb.addEventListener('change', updateSubmitButtonText);
        });

        // Deshabilitar el botÃ³n si la lista de miembros estÃ¡ vacÃ­a
        if (checkboxes.length === 0) {
            if (btnGuardar) {
                btnGuardar.disabled = true;
            }
        }
    });
</script>

{% endblock content %}


================================================
FILE: App_LiderGeneral/templates/lider_general/censo_confirm_delete.html
================================================
{% extends 'layouts/base.html' %}
{% block content %}
<div class="dashboard-container" style="max-width: 600px;">
    <h2 class="text-danger">Confirmar EliminaciÃ³n</h2>
    <div class="alert alert-warning">
        Â¿EstÃ¡s seguro de que deseas eliminar del censo a <strong>{{ object.nombres }} {{ object.apellidos }}</strong>?
        <br>Esta acciÃ³n no se puede deshacer.
    </div>
    <form method="post">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger">SÃ­, Eliminar</button>
        <a href="{% url 'lider_general:censo_lista' %}" class="btn btn-secondary">Cancelar</a>
    </form>
</div>
{% endblock %}


================================================
FILE: App_LiderGeneral/templates/lider_general/censo_form_general.html
================================================
{% extends 'layouts/base.html' %}
{% load static %}

{% block title %}{% if form.instance.pk %}Editar{% else %}Registrar{% endif %} (Admin General){% endblock %}

{% block content %}
<div class="dashboard-container" style="max-width: 800px;">
    <h2>
        <i class="fas fa-user-shield"></i> 
        {% if form.instance.pk %}Editar Datos{% else %}Registrar Residente{% endif %}
        <span class="text-muted fs-5">(Modo General)</span>
    </h2>
    <hr>
    
    <form method="post">
        {% csrf_token %}
        
        {% if form.non_field_errors %}
            <div class="alert alert-danger">
                {% for error in form.non_field_errors %}
                    {{ error }}
                {% endfor %}
            </div>
        {% endif %}

        <div class="row g-3">
            <div class="col-12"><h5 class="text-primary mt-2 border-bottom pb-2">UbicaciÃ³n</h5></div>
            
            <div class="col-md-4">
                <label class="form-label fw-bold">Torre</label>
                {{ form.tower }}
                {% if form.tower.errors %}<div class="text-danger small">{{ form.tower.errors.0 }}</div>{% endif %}
            </div>
            <div class="col-md-4">
                <label class="form-label fw-bold">Piso</label>
                {{ form.piso }}
            </div>
            <div class="col-md-4">
                <label class="form-label fw-bold">Apartamento</label>
                {{ form.apartamento_letra }}
            </div>

            <div class="col-12"><h5 class="text-primary mt-4 border-bottom pb-2">Datos Personales</h5></div>

            <div class="col-md-6">
                <label class="form-label">Nombres</label>
                {{ form.nombres }}
            </div>
            <div class="col-md-6">
                <label class="form-label">Apellidos</label>
                {{ form.apellidos }}
            </div>
            <div class="col-md-6">
                <label class="form-label">CÃ©dula</label>
                {{ form.cedula }}
                 {% if form.cedula.errors %}<div class="text-danger small">{{ form.cedula.errors.0 }}</div>{% endif %}
            </div>
             <div class="col-md-6">
                <label class="form-label">Fecha de Nacimiento</label>
                {{ form.fecha_nacimiento }}
            </div>
             <div class="col-md-6">
                <label class="form-label">GÃ©nero</label>
                {{ form.genero }}
            </div>
             <div class="col-md-6">
                <label class="form-label">TelÃ©fono</label>
                {{ form.telefono }}
            </div>

            <div class="col-12 mt-4">
                <div class="form-check form-switch p-3 bg-light rounded border">
                    {{ form.es_jefe_familia }}
                    <label class="form-check-label fw-bold ms-2" for="{{ form.es_jefe_familia.id_for_label }}">
                        Â¿Es Jefe de Familia?
                    </label>
                </div>
                {% if form.es_jefe_familia.errors %}<div class="text-danger small mt-1">{{ form.es_jefe_familia.errors.0 }}</div>{% endif %}
            </div>
        </div>

        <div class="mt-4 d-flex justify-content-end gap-2">
            <a href="{% url 'lider_general:censo_lista' %}" class="btn btn-secondary">Cancelar</a>
            <button type="submit" class="btn btn-primary">Guardar (Admin)</button>
        </div>
    </form>
</div>
{% endblock %}


================================================
FILE: App_LiderGeneral/templates/lider_general/censo_list_general.html
================================================
{% extends "layouts/navbar.html" %}
{% load static %}

{% block title %}Censo General (AdministraciÃ³n){% endblock %}

{% block content %}
<div class="dashboard-container">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2><i class="fas fa-users-cog"></i> Censo Comunitario General</h2>
        
        <a href="{% url 'lider_general:censo_crear' %}" class="btn btn-primary">
            <i class="fas fa-user-plus"></i> Registrar Nuevo Residente
        </a>
    </div>
    <hr>

    <form method="GET" class="mb-4 p-3 bg-light rounded border shadow-sm">
        <div class="row align-items-center">
            <div class="col-auto">
                <label class="fw-bold mb-0"><i class="fas fa-filter"></i> Filtrar por Torre:</label>
            </div>
            <div class="col-auto">
                <select name="torre" class="form-select" onchange="this.form.submit()">
                    <option value="">Todas las Torres</option>
                    {% for t in torres %}
                        <option value="{{ t.id }}" {% if torre_seleccionada == t.id|stringformat:"s" %}selected{% endif %}>
                            Torre {{ t.nombre }}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-auto">
                {% if torre_seleccionada %}
                    <a href="{% url 'lider_general:censo_lista' %}" class="btn btn-outline-secondary btn-sm">
                        <i class="fas fa-times"></i> Limpiar
                    </a>
                {% endif %}
            </div>
        </div>
    </form>

    <div class="table-responsive">
        <table class="table table-striped table-hover align-middle">
            <thead class="table-dark">
                <tr>
                    <th>Torre</th> <th>Apto</th>
                    <th>Nombre Completo</th>
                    <th>CÃ©dula</th>
                    <th>Edad</th>
                    <th>TelÃ©fono</th>
                    <th>Rol Familiar</th>
                    <th class="text-end">Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for m in miembros %}
                <tr>
                    <td class="fw-bold text-primary">{{ m.tower.nombre }}</td>
                    <td><span class="badge bg-secondary">{{ m.apartamento_completo }}</span></td>
                    <td>{{ m.nombres }} {{ m.apellidos }}</td>
                    <td>{{ m.cedula }}</td>
                    <td>{{ m.edad }} aÃ±os</td>
                    <td>{{ m.telefono|default:"-" }}</td>
                    <td>
                        {% if m.es_jefe_familia %}
                            <span class="badge bg-primary"><i class="fas fa-crown"></i> Jefe</span>
                        {% else %}
                            <span class="text-muted small">Miembro</span>
                        {% endif %}
                    </td>
                    <td class="text-end">
                        <a href="{% url 'lider_general:censo_editar' m.pk %}" class="btn btn-sm btn-info text-white" title="Editar">
                            <i class="fas fa-edit"></i>
                        </a>
                        <a href="{% url 'lider_general:censo_eliminar' m.pk %}" class="btn btn-sm btn-danger" title="Eliminar">
                            <i class="fas fa-trash"></i>
                        </a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="8" class="text-center py-4 text-muted">
                        <i class="fas fa-folder-open fa-2x mb-2"></i><br>
                        No hay personas registradas en el censo con los filtros actuales.
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}


================================================
FILE: App_LiderGeneral/templates/lider_general/estado_solvencia_basura.html
================================================
{% extends 'layouts/base.html' %}
{% load static %}

{% block title %}Control de Solvencia - Basura{% endblock %}

{% block content %}
<div class="dashboard-container">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Control de Pagos Cuarto de Basura</h2>
        <a href="{% url 'ver_finanzas' categoria_slug='basura' %}" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Volver al Listado
        </a>
    </div>
    <hr>

    <form method="GET" class="row g-3 mb-4 align-items-end p-3 bg-light rounded border">
        <div class="col-md-4">
            <label for="mes" class="form-label fw-bold">Mes</label>
            <select name="mes" id="mes" class="form-select">
                <option value="1" {% if mes_actual == 1 %}selected{% endif %}>Enero</option>
                <option value="2" {% if mes_actual == 2 %}selected{% endif %}>Febrero</option>
                <option value="3" {% if mes_actual == 3 %}selected{% endif %}>Marzo</option>
                <option value="4" {% if mes_actual == 4 %}selected{% endif %}>Abril</option>
                <option value="5" {% if mes_actual == 5 %}selected{% endif %}>Mayo</option>
                <option value="6" {% if mes_actual == 6 %}selected{% endif %}>Junio</option>
                <option value="7" {% if mes_actual == 7 %}selected{% endif %}>Julio</option>
                <option value="8" {% if mes_actual == 8 %}selected{% endif %}>Agosto</option>
                <option value="9" {% if mes_actual == 9 %}selected{% endif %}>Septiembre</option>
                <option value="10" {% if mes_actual == 10 %}selected{% endif %}>Octubre</option>
                <option value="11" {% if mes_actual == 11 %}selected{% endif %}>Noviembre</option>
                <option value="12" {% if mes_actual == 12 %}selected{% endif %}>Diciembre</option>
            </select>
        </div>
        <div class="col-md-4">
            <label for="anio" class="form-label fw-bold">AÃ±o</label>
            <select name="anio" id="anio" class="form-select">
                {% for year in anios_choices %}
                    <option value="{{ year }}" {% if anio_actual == year %}selected{% endif %}>{{ year }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-4">
            <button type="submit" class="btn btn-primary w-100">
                <i class="fas fa-search"></i> Consultar Estatus
            </button>
        </div>
    </form>

    <div class="table-responsive">
        <table class="table table-bordered text-center">
            <thead class="table-dark">
                <tr>
                    <th>Torre</th>
                    <th>Estatus</th>
                    <th class="d-none d-md-table-cell border-start">Torre</th>
                    <th class="d-none d-md-table-cell">Estatus</th>
                </tr>
            </thead>
            <tbody>
                {% for item in reporte %}
                    {% if forloop.counter0|divisibleby:2 %}
                    <tr>
                    {% endif %}

                        <td class="fw-bold align-middle">{{ item.torre.nombre }}</td>
                        <td class="align-middle">
                            <span class="badge {{ item.css_class }} p-2 w-100" style="font-size: 0.9em;">
                                {{ item.status }}
                            </span>
                        </td>

                    {% if not forloop.counter0|divisibleby:2 or forloop.last %}
                    </tr>
                    {% endif %}
                {% endfor %}
            </tbody>
        </table>
    </div>
    
    <div class="alert alert-info mt-3">
        <i class="fas fa-info-circle"></i> 
        <strong>Nota:</strong> El estatus "SOLVENTE" indica que existe al menos un movimiento de Ingreso registrado para la torre en el mes seleccionado bajo la categorÃ­a "Cuarto de Basura".
    </div>
</div>

<style>
    @media (max-width: 767px) {
        /* En mÃ³viles, forzamos que cada fila sea un bloque para que se vea una lista vertical simple */
        .d-none.d-md-table-cell {
            display: none !important; 
        }
    }
</style>
{% endblock %}


================================================
FILE: App_LiderGeneral/templates/lider_general/lista_usuarios.html
================================================
{% extends 'layouts/navbar.html' %}

{% load static %}

{% block title %}AdministraciÃ³n de Usuarios{% endblock %}

{% block content %}
<div class="user-container">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>GestiÃ³n de Usuarios</h2>
        <a href="{% url 'lider_general:crear_usuario' %}" class="btn btn-primary">
            <i class="fas fa-plus"></i> Crear Nuevo Usuario
        </a>
    </div>

    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
    {% endif %}

    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Usuario</th>
                    <th>Nombre Completo</th>
                    <th>Rol Principal</th>
                    <th>Torre</th>
                    <th>Activo</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for usuario in usuarios %}
                <tr>
                    <td>{{ usuario.username }}</td>
                    <td>{{ usuario.get_full_name|default:'N/A' }}</td>
                    <td>{{ usuario.get_rol_display }}</td>
                    <td>{{ usuario.tower.nombre|default:'N/A' }}</td>
                    <td>
                        {% if usuario.is_active %}
                            <span class="badge bg-success">SÃ­</span>
                        {% else %}
                            <span class="badge bg-danger">No</span>
                        {% endif %}
                    </td>
                    <td>
                        <a href="{% url 'lider_general:editar_usuario' usuario.pk %}" class="btn btn-sm btn-info" title="Editar">
                            <i class="fas fa-edit"></i>
                            Editar
                        </a>
                        <a href="{% url 'lider_general:eliminar_usuario' usuario.pk %}" class="btn btn-sm btn-danger" title="Eliminar">
                            <i class="fas fa-trash"></i>
                            Eliminar
                        </a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="6" class="text-center">No hay usuarios registrados.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}


================================================
FILE: App_LiderGeneral/templates/lider_general/solicitudes_lista.html
================================================
{% extends 'layouts/navbar.html' %}
{% block title %}Solicitudes de Documentos{% endblock %}
{% block content %}
<div class="dashboard-container">
    <h2><i class="fas fa-inbox"></i> Solicitudes Pendientes</h2>
    <hr>
    <div class="table-responsive">
        <table class="table table-hover">
            <thead class="table-dark">
                <tr>
                    <th>Fecha</th>
                    <th>Vecino</th>
                    <th>Torre/Apto</th>
                    <th>Documento</th>
                    <th>AcciÃ³n</th>
                </tr>
            </thead>
            <tbody>
                {% for sol in solicitudes %}
                <tr>
                    <td>{{ sol.fecha_solicitud|date:"d/m/Y" }}</td>
                    <td>{{ sol.beneficiario.nombres }} {{ sol.beneficiario.apellidos }}</td>
                    <td><span class="badge bg-secondary">{{ sol.beneficiario.tower.nombre }} - {{ sol.beneficiario.apartamento_completo }}</span></td>
                    <td>{{ sol.get_tipo_display }}</td>
                    <td>
                        <a href="{% url 'lider_general:procesar_solicitud' sol.pk %}" class="btn btn-primary btn-sm">
                            <i class="fas fa-cog"></i> Procesar
                        </a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="5" class="text-center text-muted py-4">No hay solicitudes pendientes.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}


================================================
FILE: App_LiderGeneral/templates/lider_general/solicitudes_procesar.html
================================================
{% extends 'layouts/base.html' %}
{% block title %}Procesar Documento{% endblock %}
{% block content %}
<div class="dashboard-container" style="max-width: 600px;">
    <h2>Procesar: {{ solicitud.get_tipo_display }}</h2>
    
    <div class="alert alert-info">
        <strong>Solicitante:</strong> {{ solicitud.beneficiario.nombres }} {{ solicitud.beneficiario.apellidos }}<br>
        <strong>Cédula:</strong> {{ solicitud.beneficiario.cedula }}<br>
        
        {# Se muestra la ubicación completa si está disponible #}
        {% if solicitud.beneficiario.tower %}
            <strong>Ubicación:</strong> Torre {{ solicitud.beneficiario.tower.nombre }} - Apto {{ solicitud.beneficiario.apartamento_letra }}
        {% endif %}
    </div>
    
    <form method="post">
        {% csrf_token %}
        
        {# ESTE BUCLE RENDERIZA AUTOMÁTICAMENTE CUALQUIER FORMULARIO (Conducta o Mudanza) #}
        {% for field in form %}
        <div class="mb-3">
            <label class="form-label fw-bold" for="{{ field.id_for_label }}">{{ field.label }}</label>
            {{ field }}
            {% if field.help_text %}
                <div class="form-text">{{ field.help_text }}</div>
            {% endif %}
            {% for error in field.errors %}
                <div class="text-danger small">{{ error }}</div>
            {% endfor %}
        </div>
        {% endfor %}
        
        <div class="d-flex justify-content-between mt-4">
            <a href="{% url 'lider_general:lista_solicitudes' %}" class="btn btn-secondary">Cancelar</a>
            <button type="submit" class="btn btn-success">
                <i class="fas fa-file-pdf"></i> Guardar y Generar PDF
            </button>
        </div>
    </form>
</div>
{% endblock %}


================================================
FILE: App_LiderGeneral/templates/lider_general/usuario_confirm_delete.html
================================================
{% extends 'layouts/base.html' %}

{% block title %}Confirmar EliminaciÃ³n{% endblock %}

{% block content %}
<div class="user-container">
    <h2>Confirmar EliminaciÃ³n</h2>
    <hr>
    
    <div class="alert alert-warning" role="alert">
        <h4 class="alert-heading">Â¡Advertencia!</h4>
        <p>EstÃ¡s a punto de eliminar al usuario **{{ usuario.username }}** (`{{ usuario.get_rol_display }}`). Esta acciÃ³n es **irreversible**.</p>
    </div>
    
    <p>Â¿EstÃ¡s seguro de que deseas eliminar a **{{ usuario.first_name }} {{ usuario.last_name }}**?</p>
    
    <form method="post" style="display: inline;">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger me-2">
            <i class="fas fa-trash"></i> Confirmar EliminaciÃ³n
        </button>
    </form>
    
    <a href="{% url 'lider_general:lista_usuarios' %}" class="btn btn-secondary">
        <i class="fas fa-times"></i> Cancelar
    </a>
</div>
{% endblock %}


================================================
FILE: App_LiderGeneral/templates/lider_general/usuario_form.html
================================================
{% extends 'layouts/base.html' %}

{% block title %}
    {% if form.instance.pk %}Editar Usuario: {{ form.instance.username }}{% else %}Crear Nuevo Usuario{% endif %}
{% endblock %}

{% block content %}
<div class="user-container">
    <h2>
        {% if form.instance.pk %}Editar Usuario: {{ form.instance.username }}{% else %}Crear Nuevo Usuario{% endif %}
    </h2>
    <hr>
    
    <form method="post">
        {% csrf_token %}

        {% if form.non_field_errors %}
            <div class="alert alert-danger">
                {% for error in form.non_field_errors %}
                    <p>{{ error }}</p>
                {% endfor %}
            </div>
        {% endif %}

        {# Grid de 2 columnas para los campos #}
        <div class="row g-3">
            {% for field in form %}
            <div class="col-md-6">
                <div class="form-group">
                    <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
                    {{ field }}
                    {% for error in field.errors %}
                        <div class="text-danger small">{{ error }}</div>
                    {% endfor %}
                    {% if field.help_text %}
                        <small class="form-text text-muted">{{ field.help_text }}</small>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="mt-4">
            <button type="submit" class="btn btn-success me-2">
                <i class="fas fa-save"></i> Guardar Cambios
            </button>
            <a href="{% url 'lider_general:lista_usuarios' %}" class="btn btn-secondary">
                <i class="fas fa-times"></i> Cancelar
            </a>
        </div>
    </form>
</div>
{% endblock %}


================================================
FILE: App_LiderTorre/__init__.py
================================================
[Empty file]


================================================
FILE: App_LiderTorre/admin.py
================================================
from django.contrib import admin

# Register your models here.



================================================
FILE: App_LiderTorre/apps.py
================================================
from django.apps import AppConfig


class AppLidertorreConfig(AppConfig):
    default_auto_field = 'django.db.models.BigAutoField'
    name = 'App_LiderTorre'



================================================
FILE: App_LiderTorre/forms.py
================================================
# App_LiderTorre/forms.py

from django import forms
# Importa MovimientoFinanciero desde App_Home
from App_Home.models import MovimientoFinanciero 

class MovimientoFormBase(forms.ModelForm):
    """Formulario base para Ingresos y Egresos. Solo muestra fecha y descripciÃ³n."""
    # --- NUEVO CAMPO: Tasa BCV ---
    # Lo definimos de forma explÃ­cita para controlar el widget, el step y la precisiÃ³n.
    tasa_bcv = forms.DecimalField(
        max_digits=10, 
        decimal_places=4, 
        min_value=0.0001, # La tasa debe ser un valor positivo
        label='Tasa BCV (Bs/USD)',
        widget=forms.NumberInput(attrs={'class': 'form-control', 'step': '0.0001', 'required': 'required'})
    )
    class Meta:
        model = MovimientoFinanciero
        # Excluimos los campos que la vista auto-asignarÃ¡
        exclude = ('tipo', 'categoria', 'tower', 'creado_por', 'monto_basura', 'monto_condominio')
        
        fields = ['fecha', 'descripcion', 'tasa_bcv'] 

        widgets = {
            # Usamos la clase 'form-control' para aplicar los estilos de styles-lidergeneral.css
            'fecha': forms.DateInput(attrs={'type': 'date', 'class': 'form-control'}),
            'descripcion': forms.Textarea(attrs={'class': 'form-control', 'rows': 3}),
        }
        
        labels = {
            'fecha': 'Fecha del Movimiento',
            'descripcion': 'DescripciÃ³n / Detalle del Pago',
        }

# --- Formularios EspecÃ­ficos para Condominio ---

class IngresoCondominioForm(MovimientoFormBase):
    # Campo personalizado para el monto (se usarÃ¡ en el modelo)
    monto_condominio = forms.DecimalField(
        max_digits=10, 
        decimal_places=2, 
        min_value=0.01, 
        label='Monto Ingreso Condominio (Bs)',
        widget=forms.NumberInput(attrs={'class': 'form-control', 'step': '0.01'})
    )

    class Meta(MovimientoFormBase.Meta):
        # Campos a mostrar en el formulario de ingreso de condominio
        fields = MovimientoFormBase.Meta.fields + ['monto_condominio']

class EgresoCondominioForm(MovimientoFormBase):
    monto_condominio = forms.DecimalField(
        max_digits=10, 
        decimal_places=2, 
        min_value=0.01, 
        label='Monto Egreso Condominio (Bs)',
        widget=forms.NumberInput(attrs={'class': 'form-control', 'step': '0.01'})
    )

    class Meta(MovimientoFormBase.Meta):
        fields = MovimientoFormBase.Meta.fields + ['monto_condominio']

# --- Formularios EspecÃ­ficos para Cuarto de Basura ---

class IngresoBasuraForm(MovimientoFormBase):
    monto_basura = forms.DecimalField(
        max_digits=10, 
        decimal_places=2, 
        min_value=0.01, 
        label='Monto Ingreso Cuarto de Basura (Bs)',
        widget=forms.NumberInput(attrs={'class': 'form-control', 'step': '0.01'})
    )

    class Meta(MovimientoFormBase.Meta):
        fields = MovimientoFormBase.Meta.fields + ['monto_basura']



================================================
FILE: App_LiderTorre/mixins.py
================================================
# App_LiderTorre/mixins.py

from django.contrib.auth.mixins import AccessMixin
from django.shortcuts import redirect
from django.urls import reverse_lazy
from App_Home.models import CustomUser
from django.contrib import messages

class LiderTorreRequiredMixin(AccessMixin):
    """
    Mixin para asegurar que el usuario tenga el rol de LÃ­der de Torre (LDT) o
    LÃ­der General (LDG).
    """
    def dispatch(self, request, *args, **kwargs):
        # Verifica si el usuario estÃ¡ autenticado
        if not request.user.is_authenticated:
            # Redirige a la URL de inicio de sesiÃ³n
            return self.handle_no_permission() 
        
        # Define los roles permitidos
        roles_permitidos = [CustomUser.ROL_LIDER_TORRE, CustomUser.ROL_LIDER_GENERAL]
        
        # Verifica si el rol del usuario estÃ¡ en los roles permitidos
        if request.user.rol not in roles_permitidos:
            messages.error(request, "No tienes permiso para registrar movimientos.")
            # Redirigir al dashboard principal si no tiene el rol
            return redirect(reverse_lazy('url_dashboard')) 

        return super().dispatch(request, *args, **kwargs)


================================================
FILE: App_LiderTorre/models.py
================================================
from django.db import models

# Create your models here.



================================================
FILE: App_LiderTorre/tests.py
================================================
from django.test import TestCase

# Create your tests here.



================================================
FILE: App_LiderTorre/urls.py
================================================
# App_LiderTorre/urls.py

from django.urls import path
from . import views

# Define un 'namespace' para evitar conflictos de nombres de rutas
app_name = 'lider_torre'

urlpatterns = [
    # Condominio
    path('condominio/ingresar/', views.RegistrarIngresoCondominioView.as_view(), name='ingresar_condominio'),
    path('condominio/egresar/', views.RegistrarEgresoCondominioView.as_view(), name='egresar_condominio'),
    
    # Cuarto de Basura
    path('basura/ingresar/', views.RegistrarIngresoBasuraView.as_view(), name='ingresar_basura'),

    # Censo de Miembros de la Torre
    path('censo/', views.CensoTorreListView.as_view(), name='censo_lista'),
    path('censo/nuevo/', views.CensoTorreCreateView.as_view(), name='censo_crear'),
    path('censo/editar/<int:pk>/', views.CensoTorreUpdateView.as_view(), name='censo_editar'),
    path('censo/eliminar/<int:pk>/', views.CensoTorreDeleteView.as_view(), name='censo_eliminar'),

    # Beneficios para Vecinos
    path('beneficios/agregar/<str:tipo_slug>/', views.AgregarVecinosTorreView.as_view(), name='agregar_vecinos'),
    path('beneficios/procesar/', views.ProcesarAgregarTorreView.as_view(), name='procesar_agregar'),
]


================================================
FILE: App_LiderTorre/views.py
================================================
Error reading file with 'cp1252': 'charmap' codec can't decode byte 0x8d in position 4917: character maps to <undefined>


================================================
FILE: App_LiderTorre/templates/lider_torre/agregar_beneficio.html
================================================
{% extends 'layouts/base.html' %}
{% load static %}

{% block title %}Agregar Beneficiarios a {{ titulo }} - Torre {{ request.user.tower.nombre }}{% endblock %}

{% block content %}
<div class="dashboard-container">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>
            <i class="fas fa-user-plus text-primary"></i> 
            Agregar Vecinos a la Lista de {{ titulo }}
        </h2>
        <a href="{% url 'ver_beneficio' tipo_slug=tipo_slug %}" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Volver a la Lista
        </a>
    </div>

    {% if messages %}
        {% endif %}

    <p class="text-muted">
        AquÃ­ puedes seleccionar a los jefes de familia de tu torre que aÃºn **no han sido incluidos** en el ciclo actual de {{ titulo }}.
    </p>

    <form method="POST" action="{% url 'lider_torre:agregar_vecinos' tipo_slug=tipo_slug %}"> 
        {% csrf_token %}
        <input type="hidden" name="action" value="add_selected">
        <input type="hidden" name="tipo_slug" value="{{ tipo_slug }}">
        
        <div class="card shadow-sm mb-4">
            <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                Vecinos de la Torre {{ request.user.tower.nombre }}
                <button type="submit" class="btn btn-success btn-sm">
                    <i class="fas fa-plus"></i> Agregar Seleccionados ({{ total_a_agregar }})
                </button>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-striped table-hover mb-0">
                        <thead>
                            <tr>
                                <th scope="col" style="width: 5%;"><input type="checkbox" id="select-all"></th>
                                <th scope="col">CÃ©dula</th>
                                <th scope="col">Jefe de Familia</th>
                                <th scope="col">Apartamento</th>
                                <th scope="col">Miembros (Excl. Jefe)</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for miembro in object_list %}
                            <tr>
                                <td><input type="checkbox" name="miembros_ids" value="{{ miembro.id }}" class="select-item"></td>
                                <td class="font-monospace">{{ miembro.cedula }}</td>
                                <td>{{ miembro.nombres }} {{ miembro.apellidos }}</td>
                                <td>{{ miembro.apartamento_completo }}</td>
                                <td>{{ miembro.miembros_contados }}</td>
                            </tr>
                            {% empty %}
                            <tr>
                                <td colspan="5" class="text-center py-4 text-muted">
                                    <i class="fas fa-check-circle fa-2x mb-2"></i>
                                    <p>Â¡Todos los jefes de familia de tu torre ya estÃ¡n en la lista de {{ titulo }}!</p>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </form>
    
    <script>
        document.getElementById('select-all').onclick = function() {
            var checkboxes = document.querySelectorAll('input[type="checkbox"].select-item');
            for (var checkbox of checkboxes) {
                checkbox.checked = this.checked;
            }
        }
    </script>
</div>
{% endblock content %}


================================================
FILE: App_LiderTorre/templates/lider_torre/censo_confirm_delete.html
================================================
{% extends 'layouts/base.html' %}
{% block content %}
<div class="dashboard-container" style="max-width: 600px;">
    <h2 class="text-danger">Confirmar EliminaciÃ³n</h2>
    <div class="alert alert-warning">
        Â¿EstÃ¡s seguro de que deseas eliminar del censo a <strong>{{ object.nombres }} {{ object.apellidos }}</strong>?
        <br>Esta acciÃ³n no se puede deshacer.
    </div>
    <form method="post">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger">SÃ­, Eliminar</button>
        <a href="{% url 'lider_torre:censo_lista' %}" class="btn btn-secondary">Cancelar</a>
    </form>
</div>
{% endblock %}


================================================
FILE: App_LiderTorre/templates/lider_torre/censo_form_torre.html
================================================
{% extends 'layouts/base.html' %}
{% load static %}

{% block title %}{% if form.instance.pk %}Editar{% else %}Registrar{% endif %} Residente{% endblock %}

{% block content %}
<div class="dashboard-container" style="max-width: 800px;">
    <h2>
        <i class="fas fa-user-edit"></i> 
        {% if form.instance.pk %}Editar Datos{% else %}Registrar Nuevo Vecino{% endif %}
        <span class="text-muted fs-5">(Torre {{ request.user.tower.nombre }})</span>
    </h2>
    <hr>
    
    <form method="post">
        {% csrf_token %}
        
        {% if form.non_field_errors %}
            <div class="alert alert-danger">
                {% for error in form.non_field_errors %}
                    {{ error }}
                {% endfor %}
            </div>
        {% endif %}

        {% for hidden in form.hidden_fields %}
            {{ hidden }}
        {% endfor %}

        <div class="row g-3">
            <div class="col-12"><h5 class="text-primary mt-2 border-bottom pb-2">UbicaciÃ³n en la Torre</h5></div>
            
            <div class="col-md-6">
                <label class="form-label fw-bold">Piso</label>
                {{ form.piso }}
                {% if form.piso.errors %}<div class="text-danger small">{{ form.piso.errors.0 }}</div>{% endif %}
            </div>
            <div class="col-md-6">
                <label class="form-label fw-bold">Apartamento (Letra)</label>
                {{ form.apartamento_letra }}
                {% if form.apartamento_letra.errors %}<div class="text-danger small">{{ form.apartamento_letra.errors.0 }}</div>{% endif %}
            </div>

            <div class="col-12"><h5 class="text-primary mt-4 border-bottom pb-2">Datos Personales</h5></div>

            <div class="col-md-6">
                <label class="form-label">Nombres</label>
                {{ form.nombres }}
                {% if form.nombres.errors %}<div class="text-danger small">{{ form.nombres.errors.0 }}</div>{% endif %}
            </div>
            <div class="col-md-6">
                <label class="form-label">Apellidos</label>
                {{ form.apellidos }}
                {% if form.apellidos.errors %}<div class="text-danger small">{{ form.apellidos.errors.0 }}</div>{% endif %}
            </div>
            <div class="col-md-6">
                <label class="form-label">CÃ©dula de Identidad</label>
                {{ form.cedula }}
                {% if form.cedula.errors %}<div class="text-danger small">{{ form.cedula.errors.0 }}</div>{% endif %}
            </div>
             <div class="col-md-6">
                <label class="form-label">Fecha de Nacimiento</label>
                {{ form.fecha_nacimiento }}
                {% if form.fecha_nacimiento.errors %}<div class="text-danger small">{{ form.fecha_nacimiento.errors.0 }}</div>{% endif %}
            </div>
             <div class="col-md-6">
                <label class="form-label">GÃ©nero</label>
                {{ form.genero }}
            </div>
             <div class="col-md-6">
                <label class="form-label">TelÃ©fono</label>
                {{ form.telefono }}
            </div>

            <div class="col-12 mt-4">
                <div class="form-check form-switch p-3 bg-light rounded border d-flex align-items-center">
                    {{ form.es_jefe_familia }}
                    <label class="form-check-label fw-bold ms-3" for="{{ form.es_jefe_familia.id_for_label }}">
                        Â¿Es Jefe de Familia? <br>
                        <small class="text-muted fw-normal">Marca esta opciÃ³n si es el responsable principal del apartamento.</small>
                    </label>
                </div>
                {% if form.es_jefe_familia.errors %}<div class="text-danger small mt-1">{{ form.es_jefe_familia.errors.0 }}</div>{% endif %}
            </div>
        </div>

        <div class="mt-4 d-flex justify-content-end gap-2">
            <a href="{% url 'lider_torre:censo_lista' %}" class="btn btn-secondary">
                <i class="fas fa-times"></i> Cancelar
            </a>
            <button type="submit" class="btn btn-success">
                <i class="fas fa-save"></i> Guardar Datos
            </button>
        </div>
    </form>
</div>
{% endblock %}


================================================
FILE: App_LiderTorre/templates/lider_torre/censo_list_torre.html
================================================
{% extends "layouts/navbar.html" %}
{% load static %}

{% block title %}Censo Torre {{ request.user.tower.nombre }}{% endblock %}

{% block content %}
<div class="dashboard-container">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>
            <i class="fas fa-building"></i> 
            Censo: Torre {{ request.user.tower.nombre }}
        </h2>
        
        <a href="{% url 'lider_torre:censo_crear' %}" class="btn btn-success">
            <i class="fas fa-user-plus"></i> Registrar Vecino
        </a>
    </div>
    <hr>
    
    <div class="table-responsive">
        <table class="table table-striped table-hover align-middle">
            <thead class="table-dark">
                <tr>
                    <th>Apto</th>
                    <th>Nombre Completo</th>
                    <th>CÃ©dula</th>
                    <th>Edad</th>
                    <th>TelÃ©fono</th>
                    <th>Rol Familiar</th>
                    <th class="text-end">Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for m in miembros %}
                <tr>
                    <td><span class="badge bg-success fs-6">{{ m.apartamento_completo }}</span></td>
                    <td class="fw-bold">{{ m.nombres }} {{ m.apellidos }}</td>
                    <td>{{ m.cedula }}</td>
                    <td>{{ m.edad }} aÃ±os</td>
                    <td>{{ m.telefono|default:"-" }}</td>
                    <td>
                        {% if m.es_jefe_familia %}
                            <span class="badge bg-primary"><i class="fas fa-crown"></i> Jefe de Familia</span>
                        {% else %}
                            <span class="text-muted small">Miembro</span>
                        {% endif %}
                    </td>
                    <td class="text-end">
                        <a href="{% url 'lider_torre:censo_editar' m.pk %}" class="btn btn-sm btn-info text-white" title="Editar Datos">
                            <i class="fas fa-edit"></i>
                        </a>
                        <a href="{% url 'lider_torre:censo_eliminar' m.pk %}" class="btn btn-sm btn-danger" title="Eliminar">
                            <i class="fas fa-trash"></i>
                        </a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="7" class="text-center py-4 text-muted">
                        <i class="fas fa-user-slash fa-2x mb-2"></i><br>
                        AÃºn no has registrado vecinos en tu torre.
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}


================================================
FILE: App_LiderTorre/templates/lider_torre/movimiento_form.html
================================================
{% extends 'layouts/base.html' %}
{% load static %}

{% block title %}{{ titulo }}{% endblock %}

{% block content %}
<div class="dashboard-container">
    <h2>{{ titulo }}</h2>
    <hr>
    
    {% if messages %}
        <div class="mensajes-django-container">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }}">{{ message }}</div>
            {% endfor %}
        </div>
    {% endif %}

    <form method="post">
        {% csrf_token %}

        {% if form.non_field_errors %}
            <div class="alert alert-danger">
                {% for error in form.non_field_errors %}
                    <p>{{ error }}</p>
                {% endfor %}
            </div>
        {% endif %}
        
        {# Utilizamos la cuadrÃ­cula responsive row g-3 y col-md-6/12 #}
        <div class="row g-3">

            {% if form.tower %}
                <div class="col-md-12">
                    <div class="form-group">
                        {% if form.tower.field.required %}
                            <label for="{{ form.tower.id_for_label }}" class="form-label">{{ form.tower.label }}</label>
                            {{ form.tower }}
                            {% for error in form.tower.errors %}
                                <div class="text-danger small">{{ error }}</div>
                            {% endfor %}
                            {% if form.tower.help_text %}
                                <small class="form-text text-muted">{{ form.tower.help_text }}</small>
                            {% endif %}
                        {% endif %}
                    </div>
                </div>
            {% endif %}
            
            {# Fecha y DescripciÃ³n (Ancho completo en todas las pantallas) #}
            {% for field in form %}
                {% if field.name == 'fecha' or field.name == 'descripcion' %}
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
                            {{ field }}
                            {% for error in field.errors %}
                                <div class="text-danger small">{{ error }}</div>
                            {% endfor %}
                        </div>
                    </div>
                {% endif %}
            {% endfor %}

            {# Campo de Tasa BCV y Montos (Mitad de ancho en desktop) #}
            {% for field in form %}
                {% if field.name == 'tasa_bcv' or field.name == 'monto_condominio' or field.name == 'monto_basura' %}
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
                            {{ field }}
                            {% for error in field.errors %}
                                <div class="text-danger small">{{ error }}</div>
                            {% endfor %}
                            {% if field.help_text %}
                                <small class="form-text text-muted">{{ field.help_text }}</small>
                            {% endif %}
                        </div>
                    </div>
                {% endif %}
            {% endfor %}

        </div>

        <div class="mt-4">
            <button type="submit" class="btn btn-primary me-2">
                <i class="fas fa-save"></i> Registrar Movimiento
            </button>
            <a href="{% url 'url_dashboard' %}" class="btn btn-secondary">
                <i class="fas fa-times"></i> Cancelar
            </a>
        </div>
    </form>
</div>
{% endblock %}


================================================
FILE: Community_Service/__init__.py
================================================
[Empty file]


================================================
FILE: Community_Service/asgi.py
================================================
"""
ASGI config for Community_Service project.

It exposes the ASGI callable as a module-level variable named ``application``.

For more information on this file, see
https://docs.djangoproject.com/en/5.2/howto/deployment/asgi/
"""

import os

from django.core.asgi import get_asgi_application

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'Community_Service.settings')

application = get_asgi_application()



================================================
FILE: Community_Service/settings.py
================================================
# "Community_Service/settings.py" (Fragmento completo que incluye las configuraciones de autenticaciÃ³n)

"""
Django settings for Community_Service project.

Generated by 'django-admin startproject' using Django 5.2.7.

For more information on this file, see
https://docs.djangoproject.com/en/5.2/topics/settings/

For the full list of settings and their values, see
https://docs.djangoproject.com/en/5.2/ref/settings/
"""

from pathlib import Path

# Build paths inside the project like this: BASE_DIR / 'subdir'.
BASE_DIR = Path(__file__).resolve().parent.parent


# Quick-start development settings - unsuitable for production
# See https://docs.djangoproject.com/en/5.2/howto/deployment/checklist/

# SECURITY WARNING: keep the secret key used in production secret!
SECRET_KEY = 'django-insecure-ign2m==4igmt%9@n_#a@1^8$p7n&9lv+g-vwkm(-*2oh39ne-!'

# SECURITY WARNING: don't run with debug turned on in production!
DEBUG = True

ALLOWED_HOSTS = []


# Application definition

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'App_Home',
    'App_LiderTorre',
    'App_LiderGeneral',
]

MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]

ROOT_URLCONF = 'Community_Service.urls'

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [BASE_DIR / 'templates'], # Asumo que tienes una carpeta de templates global
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

WSGI_APPLICATION = 'Community_Service.wsgi.application'


# Database
# https://docs.djangoproject.com/en/5.2/ref/settings/#databases

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}


# Password validation
# https://docs.djangoproject.com/en/5.2/ref/settings/#auth-password-validators

AUTH_PASSWORD_VALIDATORS = [
    {
        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',
    },
]


# Internationalization
# https://docs.djangoproject.com/en/5.2/topics/i18n/

LANGUAGE_CODE = 'es-ve' # Establecido a Venezuela por contexto
TIME_ZONE = 'America/Caracas' # Establecido a Caracas por contexto

USE_I18N = True

USE_TZ = True


# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/5.2/howto/static-files/

STATIC_URL = 'static/'

# Default primary key field type
# https://docs.djangoproject.com/en/5.2/ref/settings/#default-auto-field

DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'

# ----------------------------------------------------
# CONFIGURACIÃ“N DE AUTENTICACIÃ“N PERSONALIZADA
# ----------------------------------------------------

# El modelo de usuario personalizado que se usa en el proyecto
AUTH_USER_MODEL = 'App_Home.CustomUser'

# URL a la que se redirige cuando se requiere inicio de sesiÃ³n
LOGIN_URL = '/login/'

# URL a la que se redirige a los usuarios despuÃ©s de iniciar sesiÃ³n con Ã©xito
LOGIN_REDIRECT_URL = '/' 

# URL a la que se redirige a los usuarios despuÃ©s de cerrar sesiÃ³n
LOGOUT_REDIRECT_URL = '/login/'


================================================
FILE: Community_Service/urls.py
================================================
"""
URL configuration for Community_Service project.

The `urlpatterns` list routes URLs to views. For more information please see:
    https://docs.djangoproject.com/en/5.2/topics/http/urls/
Examples:
Function views
    1. Add an import:  from my_app import views
    2. Add a URL to urlpatterns:  path('', views.home, name='home')
Class-based views
    1. Add an import:  from other_app.views import Home
    2. Add a URL to urlpatterns:  path('', Home.as_view(), name='home')
Including another URLconf
    1. Import the include() function: from django.urls import include, path
    2. Add a URL to urlpatterns:  path('blog/', include('blog.urls'))
"""
from django.contrib import admin
from django.urls import include, path

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', include('App_Home.urls')),
    path('lider/', include('App_LiderTorre.urls')),
    path('general/', include('App_LiderGeneral.urls')),
]



================================================
FILE: Community_Service/wsgi.py
================================================
"""
WSGI config for Community_Service project.

It exposes the WSGI callable as a module-level variable named ``application``.

For more information on this file, see
https://docs.djangoproject.com/en/5.2/howto/deployment/wsgi/
"""

import os

from django.core.wsgi import get_wsgi_application

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'Community_Service.settings')

application = get_wsgi_application()


