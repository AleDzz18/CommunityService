<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Carga Archivos Estaticos -->
    {% load static %}
    <!-- Configuracion basica del documento HTML -->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Estilos y Funciones asociados al Navbar -->
    <link rel="stylesheet" href="{% static 'css/styles-navbar.css' %}" />
    <!-- Estilos y Funciones asociados al Login-->
    <link rel="stylesheet" href="{% static 'css/styles-login.css' %}" />
    <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css">
    <script src="{% static 'js/scripts-login.js' %}" defer></script>
    <!-- Estilos y Funciones asociados al homeDashboard -->
    <link rel="stylesheet" href="{% static 'css/styles-HD.css' %}" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="{% static 'js/scripts-HD.js' %}" defer></script>
    <!-- Estilos y Funciones asociados al completar perfil -->
    <link rel="stylesheet" href="{% static 'css/styles-perfil.css' %}">
    <!-- Estilos y Funciones asociados a Condominio y Cuarto de Basura -->
    <link rel="stylesheet" href="{% static 'css/styles-listado.css' %}">
    <!-- Estilos y Funciones de Gestions de Usuarios -->
    <link rel="stylesheet" href="{% static 'css/styles-lidergeneral.css' %}">
    <!-- Titulo General de la Pagina -->
    <title>Balcones de Paraguana I</title>
</head>

<body class="light" {% block body_attributes %}{% endblock %}>
    <!-- Bloque de Django para insertar el contenido del navbar. -->
    <!-- Este bloque se define en la plantilla que extiende a esta (navbar.html). -->
    {% block navbar %}
    {% endblock navbar %}

    {# Este contenedor usará las clases de Bootstrap para la alerta #}
        {% if messages %}
            <div class="message-container">
                {% for message in messages %}
                    <div id="msg-{{ forloop.counter }}" class="alert alert-{{ message.tags }}">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}

    <!-- Bloque de Django para insertar el contenido del login. -->
    <!-- Este bloque se define en la plantilla que extiende a esta (login.html). -->
    {% block content %}
    {% endblock content %}

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Selecciona todos los mensajes de alerta dentro del contenedor
            const alerts = document.querySelectorAll('.message-container .alert');
            const DURATION = 7000; // 7 segundos para que el mensaje desaparezca
                
            // *** LÍNEA DE DEBUGGING: Abrir Consola (F12) para confirmar que se ejecuta. ***
            console.log(`[DEBUG] Alertas encontradas: ${alerts.length}`);
            // *************************************************************************
                
            if (alerts.length > 0) {
                alerts.forEach(alert => {
                    // 1. Inicia el temporizador de desaparición (5 segundos)
                    setTimeout(() => {
                        // Añade la clase 'hide' para iniciar la transición CSS (opacidad y desplazamiento)
                        alert.classList.add('hide');
                    
                        // 2. Opcional: Elimina el elemento del DOM después de que termine la transición
                        // El tiempo (500ms) debe ser igual a la duración de la transición en styles-login.css
                        setTimeout(() => {
                            alert.remove();
                        }, 500); 
                    }, DURATION); 
                });
            }
        });
    </script>
</body>

</html>